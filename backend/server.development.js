/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/bin/start-webapp.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var express_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! express-jwt */ \"express-jwt\");\n/* harmony import */ var express_jwt__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(express_jwt__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cookie-parser */ \"cookie-parser\");\n/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cookie_parser__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var express_form_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! express-form-data */ \"express-form-data\");\n/* harmony import */ var express_form_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(express_form_data__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! os */ \"os\");\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(os__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var morgan__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! morgan */ \"morgan\");\n/* harmony import */ var morgan__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(morgan__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! cors */ \"cors\");\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(cors__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var helmet__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! helmet */ \"helmet\");\n/* harmony import */ var helmet__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(helmet__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var ddos__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ddos */ \"ddos\");\n/* harmony import */ var ddos__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(ddos__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n/* harmony import */ var _routes_api__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./routes/api */ \"./src/routes/api.js\");\n/* harmony import */ var _routes_admin_api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./routes/admin-api */ \"./src/routes/admin-api.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst app = express__WEBPACK_IMPORTED_MODULE_0___default()();\nconst cwd = process.cwd();\nconst ddos = new ddos__WEBPACK_IMPORTED_MODULE_9___default.a({\n  maxcount: process.env.DDOS_MAXCOUNT,\n  burst: process.env.DDOS_BURST,\n  limit: process.env.DDOS_LIMIT\n});\nconst options = {\n  uploadDir: os__WEBPACK_IMPORTED_MODULE_5___default.a.tmpdir(),\n  autoClean: true\n}; // view engine setup\n\napp.set(\"views\", path__WEBPACK_IMPORTED_MODULE_2___default.a.join(cwd, \"views\"));\napp.set(\"view engine\", \"pug\");\napp.use(morgan__WEBPACK_IMPORTED_MODULE_6___default()(\"dev\"));\napp.use(express__WEBPACK_IMPORTED_MODULE_0___default.a.json());\napp.use(express__WEBPACK_IMPORTED_MODULE_0___default.a.urlencoded({\n  extended: false\n}));\napp.use(cookie_parser__WEBPACK_IMPORTED_MODULE_3___default()());\n-app.use(express_form_data__WEBPACK_IMPORTED_MODULE_4___default.a.parse(options));\napp.use(express_form_data__WEBPACK_IMPORTED_MODULE_4___default.a.format());\napp.use(express_form_data__WEBPACK_IMPORTED_MODULE_4___default.a.stream());\napp.use(express_form_data__WEBPACK_IMPORTED_MODULE_4___default.a.union());\n true && app.use(cors__WEBPACK_IMPORTED_MODULE_7___default()());\napp.use(helmet__WEBPACK_IMPORTED_MODULE_8___default()()); // process.env.NODE_ENV === \"production\" && app.use(ddos.express);\n// app.use(\"/api/\", ddos.express);\n\napp.use(\"/admin/api\", express_jwt__WEBPACK_IMPORTED_MODULE_1___default()({\n  secret: core_config__WEBPACK_IMPORTED_MODULE_10__[\"session\"].secretAdmin\n}).unless({\n  path: [/\\/admin\\/api\\/auth\\/*/]\n}));\napp.use(\"/api/posts/save\", express_jwt__WEBPACK_IMPORTED_MODULE_1___default()({\n  secret: core_config__WEBPACK_IMPORTED_MODULE_10__[\"session\"].secret\n}));\napp.use(\"/admin/assets\", express__WEBPACK_IMPORTED_MODULE_0___default.a.static(path__WEBPACK_IMPORTED_MODULE_2___default.a.join(cwd, \"public\")));\napp.use(\"/assets\", express__WEBPACK_IMPORTED_MODULE_0___default.a.static(path__WEBPACK_IMPORTED_MODULE_2___default.a.join(cwd, \"public\")));\napp.use(\"/admin/api\", _routes_admin_api__WEBPACK_IMPORTED_MODULE_12__[\"default\"]);\napp.use(\"/api\", _routes_api__WEBPACK_IMPORTED_MODULE_11__[\"default\"]);\napp.use('/admin', express__WEBPACK_IMPORTED_MODULE_0___default.a.static(path__WEBPACK_IMPORTED_MODULE_2___default.a.join(cwd, 'admin-frontend')));\napp.get('/admin/*', function (req, res) {\n  res.sendFile(path__WEBPACK_IMPORTED_MODULE_2___default.a.join(cwd, 'admin-frontend/index.html'));\n});\napp.use(express__WEBPACK_IMPORTED_MODULE_0___default.a.static(path__WEBPACK_IMPORTED_MODULE_2___default.a.join(cwd, \"frontend\")));\napp.get(\"*\", (req, res) => {\n  res.sendFile(path__WEBPACK_IMPORTED_MODULE_2___default.a.join(cwd, \"frontend/index.html\"));\n}); // error handler\n\napp.use(function (err, req, res, next) {\n  // set locals, only providing error in development\n  res.locals.message = err.message;\n  res.locals.error = req.app.get(\"env\") === \"development\" ? err : {}; // render the error page\n\n  res.status(err.status || 500);\n  res.render(\"error\");\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (app);\n\n//# sourceURL=webpack:///./src/app.js?");

/***/ }),

/***/ "./src/bin/start-webapp.js":
/*!*********************************!*\
  !*** ./src/bin/start-webapp.js ***!
  \*********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app */ \"./src/app.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"debug\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(debug__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! http */ \"http\");\n/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(http__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(https__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cluster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cluster */ \"cluster\");\n/* harmony import */ var cluster__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cluster__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n\n\n\n\n\n\n\nlet debug;\nlet port;\nlet sslPort;\nlet httpServer;\nlet httpsServer;\n\nif (cluster__WEBPACK_IMPORTED_MODULE_4___default.a.isMaster) {\n  cluster__WEBPACK_IMPORTED_MODULE_4___default.a.fork();\n  cluster__WEBPACK_IMPORTED_MODULE_4___default.a.on(\"exit\", function (worker, code, signal) {\n    cluster__WEBPACK_IMPORTED_MODULE_4___default.a.fork();\n  });\n}\n\nif (cluster__WEBPACK_IMPORTED_MODULE_4___default.a.isWorker) {\n  debug = new debug__WEBPACK_IMPORTED_MODULE_1___default.a(\"express:server\");\n  port = normalizePort(core_config__WEBPACK_IMPORTED_MODULE_6__[\"server\"].port);\n  sslPort = normalizePort(core_config__WEBPACK_IMPORTED_MODULE_6__[\"server\"].sslPort);\n  app__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set(\"port\", port);\n  httpServer = http__WEBPACK_IMPORTED_MODULE_2___default.a.createServer(app__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n  httpServer.listen(port);\n  httpServer.on(\"error\", onError);\n  httpServer.on(\"listening\", onListening);\n  const credentials = {\n    key: fs__WEBPACK_IMPORTED_MODULE_5___default.a.readFileSync(core_config__WEBPACK_IMPORTED_MODULE_6__[\"server\"].sslKey),\n    cert: fs__WEBPACK_IMPORTED_MODULE_5___default.a.readFileSync(core_config__WEBPACK_IMPORTED_MODULE_6__[\"server\"].sslCert),\n    ca: [fs__WEBPACK_IMPORTED_MODULE_5___default.a.readFileSync(core_config__WEBPACK_IMPORTED_MODULE_6__[\"server\"].sslCA)],\n    passphrase: \"abc123\"\n  };\n  httpsServer = https__WEBPACK_IMPORTED_MODULE_3___default.a.createServer(credentials, app__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n  httpsServer.listen(sslPort);\n  httpsServer.on(\"error\", onError);\n  httpsServer.on(\"listening\", onSslListening);\n}\n\nfunction normalizePort(val) {\n  const port = parseInt(val, 10);\n\n  if (isNaN(port)) {\n    // named pipe\n    return val;\n  }\n\n  if (port >= 0) {\n    // port number\n    return port;\n  }\n\n  return false;\n}\n\nfunction onError(error) {\n  if (error.syscall !== \"listen\") {\n    throw error;\n  }\n\n  const bind = typeof port === \"string\" ? \"Pipe \" + port : \"Port \" + port; // handle specific listen errors with friendly messages\n\n  switch (error.code) {\n    case \"EACCES\":\n      console.error(bind + \" requires elevated privileges\");\n      process.exit(1);\n      break;\n\n    case \"EADDRINUSE\":\n      console.error(bind + \" is already in use\");\n      process.exit(1);\n      break;\n\n    default:\n      throw error;\n  }\n}\n\nfunction onListening() {\n  const addr = httpServer.address();\n  const bind = typeof addr === \"string\" ? \"pipe \" + addr : \"port \" + addr.port;\n  debug(\"Listening on \" + bind);\n  console.log(\"Listening on \" + bind);\n}\n\nfunction onSslListening() {\n  const addr = httpsServer.address();\n  const bind = typeof addr === \"string\" ? \"pipe \" + addr : \"port \" + addr.port;\n  debug(\"Listening on \" + bind);\n  console.log(\"Listening on \" + bind);\n}\n\n//# sourceURL=webpack:///./src/bin/start-webapp.js?");

/***/ }),

/***/ "./src/core/config.js":
/*!****************************!*\
  !*** ./src/core/config.js ***!
  \****************************/
/*! exports provided: server, mysql, session, dbTblName, smtp, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"server\", function() { return server; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mysql\", function() { return mysql; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"session\", function() { return session; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dbTblName\", function() { return dbTblName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"smtp\", function() { return smtp; });\n__webpack_require__(/*! dotenv */ \"dotenv\").config();\n\nconst server = {\n  isDev: false,\n  port: process.env.HTTP_PORT,\n  sslPort: process.env.HTTPS_PORT,\n  baseUrl: process.env.BASE_URL,\n  name: \"hrgulf.org\",\n  description: \"Portal in hrgulf.org\",\n  author: \"Zhenlong J.\",\n  secret: \"hrgulf@@\",\n  sslKey: \"./sslcert/server.key\",\n  sslCert: \"./sslcert/1e720c418ffe9875.crt\",\n  sslCA: \"./sslcert/gd_bundle-g2-g1.crt\",\n  environment: \"development\"\n};\nconst mysql = {\n  connectionLimit: 10,\n  host: process.env.MYSQL_HOST,\n  port: process.env.MYSQL_PORT,\n  user: process.env.MYSQL_USER,\n  password: process.env.MYSQL_PASSWORD,\n  database: process.env.MYSQL_DATABASE\n};\nconst session = {\n  name: \"knowledge.hrgulf.org\",\n  key: \"knowledge.hrgulf.org\",\n  secret: \"knowledge.hrgulf.org@@\",\n  secretAdmin: \"knowledge.hrgulf.org_admin@@\"\n};\nconst dbTblName = {\n  users: \"users\",\n  usersSigninHistory: \"users_signin_history\",\n  userAvatars: \"user_avatars\",\n  accountSettings: \"account_settings\",\n  resetPasswordTokens: \"reset_password_tokens\"\n};\nconst smtp = {\n  // service: 'gmail',\n  host: 'smtp.office365.com',\n  secureConnection: true,\n  port: 587,\n  // secure: true,\n  user: 'pm@eliteresources.co',\n  pass: 'Theelite6*',\n  limit: {\n    receipt: 2999,\n    message: 19\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  server,\n  mysql,\n  session,\n  dbTblName,\n  smtp\n});\n\n//# sourceURL=webpack:///./src/core/config.js?");

/***/ }),

/***/ "./src/core/consts.js":
/*!****************************!*\
  !*** ./src/core/consts.js ***!
  \****************************/
/*! exports provided: uploadPath, success, error, lang, defaultPageSize, defaultPageSize2, defaultLanguage, current, male, female, questionTypes, prefixCheckbox, prefixInput, prefixRadio, tokenLifetime, tokenStatus, auth, social, accountTypes, avatar, resetPasswordUri, eliteResourcesUrl, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uploadPath\", function() { return uploadPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"success\", function() { return success; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"error\", function() { return error; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lang\", function() { return lang; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultPageSize\", function() { return defaultPageSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultPageSize2\", function() { return defaultPageSize2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultLanguage\", function() { return defaultLanguage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"current\", function() { return current; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"male\", function() { return male; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"female\", function() { return female; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"questionTypes\", function() { return questionTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prefixCheckbox\", function() { return prefixCheckbox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prefixInput\", function() { return prefixInput; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prefixRadio\", function() { return prefixRadio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tokenLifetime\", function() { return tokenLifetime; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tokenStatus\", function() { return tokenStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"auth\", function() { return auth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"social\", function() { return social; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"accountTypes\", function() { return accountTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"avatar\", function() { return avatar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetPasswordUri\", function() { return resetPasswordUri; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"eliteResourcesUrl\", function() { return eliteResourcesUrl; });\nconst uploadPath = {\n  posts: \"uploads/posts\",\n  news: \"uploads/news\",\n  avatars: \"uploads/avatars\",\n  aboutUs: \"uploads/about-us\"\n};\nconst success = \"success\";\nconst error = \"error\";\nconst lang = \"lang\";\nconst defaultPageSize = 10;\nconst defaultPageSize2 = 12;\nconst defaultLanguage = \"en\";\nconst current = \"current\";\nconst male = \"M\";\nconst female = \"F\";\nconst questionTypes = {\n  C: \"Checkbox\",\n  I: \"Input\",\n  R: \"Radio\"\n};\nconst prefixCheckbox = \"C\";\nconst prefixInput = \"I\";\nconst prefixRadio = \"R\";\nconst tokenLifetime = 24;\nconst tokenStatus = {\n  VALID: 1,\n  EXPIRED: 2,\n  NOT_FOUND: 3,\n  ALREADY_USED: 4,\n  EMAIL_NOT_FOUND: 5\n};\nconst auth = {\n  SOCIAL_SIGN_UP_PASSWORD: \"\"\n};\nconst social = {\n  name: {\n    GOOGLE: \"Google\",\n    FACEBOOK: \"Facebook\"\n  }\n};\nconst accountTypes = {\n  HIRE: \"HIRE\",\n  WORK: \"WORK\"\n};\nconst avatar = {\n  DEFAULT_AVATAR: \"images/default-avatar.png\"\n};\nconst resetPasswordUri = \"auth/reset-password\";\nconst eliteResourcesUrl = \"https://eliteresources.co\";\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  uploadPath,\n  success,\n  error,\n  lang,\n  defaultPageSize,\n  defaultPageSize2,\n  defaultLanguage,\n  current,\n  male,\n  female,\n  questionTypes,\n  prefixCheckbox,\n  prefixInput,\n  prefixRadio,\n  tokenLifetime,\n  tokenStatus,\n  auth,\n  social,\n  accountTypes,\n  resetPasswordUri,\n  eliteResourcesUrl\n});\n\n//# sourceURL=webpack:///./src/core/consts.js?");

/***/ }),

/***/ "./src/core/db.js":
/*!************************!*\
  !*** ./src/core/db.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_dbConn__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core/dbConn */ \"./src/core/dbConn.js\");\n\nconst db = {};\n\ndb.query = (q, data) => {\n  return new Promise((resolve, reject) => {\n    core_dbConn__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(q, data, (err, res) => {\n      err ? reject(err) : resolve(res);\n    });\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (db);\n\n//# sourceURL=webpack:///./src/core/db.js?");

/***/ }),

/***/ "./src/core/dbConn.js":
/*!****************************!*\
  !*** ./src/core/dbConn.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mysql2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2 */ \"mysql2\");\n/* harmony import */ var mysql2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (mysql2__WEBPACK_IMPORTED_MODULE_0___default.a.createPool(core_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].mysql));\n\n//# sourceURL=webpack:///./src/core/dbConn.js?");

/***/ }),

/***/ "./src/core/fetch.js":
/*!***************************!*\
  !*** ./src/core/fetch.js ***!
  \***************************/
/*! exports provided: GET, POST, PUT, PATCH, DELETE, cancelRequest, setHeader, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GET\", function() { return GET; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POST\", function() { return POST; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PUT\", function() { return PUT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PATCH\", function() { return PATCH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DELETE\", function() { return DELETE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cancelRequest\", function() { return cancelRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setHeader\", function() { return setHeader; });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n\nconst GET = \"GET\";\nconst POST = \"POST\";\nconst PUT = \"PUT\";\nconst PATCH = \"PATCH\";\nconst DELETE = \"DELETE\";\nlet CancelToken = axios__WEBPACK_IMPORTED_MODULE_0___default.a.CancelToken;\n\nlet cancel = () => {};\n\nconst cancelRequest = () => {\n  return cancel;\n};\n\nconst getQueryString = params => {\n  if (!params) return \"\";\n  let esc = encodeURIComponent;\n  return \"?\" + Object.keys(params).map(k => esc(k) + \"=\" + esc(params[k])).join(\"&\");\n};\n\nconst getJsonBody = params => {\n  return params;\n};\n\nconst setHeader = params => {\n  Object.entries(params).forEach(([key, value]) => {\n    axios__WEBPACK_IMPORTED_MODULE_0___default.a.defaults.headers.common[key] = value;\n  });\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ((requestType, resourceURL, parameters, headers, config) => {\n  switch (requestType) {\n    case GET:\n      return new Promise((resolve, reject) => {\n        const queryString = getQueryString(parameters);\n        axios__WEBPACK_IMPORTED_MODULE_0___default.a.get(resourceURL + queryString, { ...config,\n          cancelToken: new CancelToken(c => {\n            cancel = c;\n          }),\n          headers: headers\n        }).then(response => {\n          resolve(response.data);\n        }).catch(error => {\n          reject(error);\n        });\n      });\n\n    case POST:\n      return new Promise((resolve, reject) => {\n        const jsonBody = getJsonBody(parameters);\n        axios__WEBPACK_IMPORTED_MODULE_0___default.a.post(resourceURL, jsonBody, { ...config,\n          cancelToken: new CancelToken(c => {\n            cancel = c;\n          }),\n          headers: headers\n        }).then(response => {\n          resolve(response.data);\n        }).catch(error => {\n          reject(error);\n        });\n      });\n\n    case PUT:\n      return new Promise((resolve, reject) => {\n        const jsonBody = getJsonBody(parameters);\n        axios__WEBPACK_IMPORTED_MODULE_0___default.a.put(resourceURL, jsonBody, { ...config,\n          cancelToken: new CancelToken(c => {\n            cancel = c;\n          }),\n          headers: headers\n        }).then(response => {\n          resolve(response.data);\n        }).catch(error => {\n          reject(error);\n        });\n      });\n\n    case PATCH:\n      return new Promise((resolve, reject) => {\n        const jsonBody = getJsonBody(parameters);\n        axios__WEBPACK_IMPORTED_MODULE_0___default.a.patch(resourceURL, jsonBody, { ...config,\n          cancelToken: new CancelToken(c => {\n            cancel = c;\n          }),\n          headers: headers\n        }).then(response => {\n          resolve(response.data);\n        }).catch(error => {\n          reject(error);\n        });\n      });\n\n    case DELETE:\n      return new Promise((resolve, reject) => {\n        const queryString = getQueryString(parameters);\n        axios__WEBPACK_IMPORTED_MODULE_0___default.a.delete(resourceURL + queryString, { ...config,\n          cancelToken: new CancelToken(c => {\n            cancel = c;\n          }),\n          headers: headers\n        }).then(response => {\n          resolve(response.data);\n        }).catch(error => {\n          reject(error);\n        });\n      });\n\n    default:\n      break;\n  }\n});\n\n//# sourceURL=webpack:///./src/core/fetch.js?");

/***/ }),

/***/ "./src/core/helpers.js":
/*!*****************************!*\
  !*** ./src/core/helpers.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sprintf-js */ \"sprintf-js\");\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sprintf_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var mkdirp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mkdirp */ \"mkdirp\");\n/* harmony import */ var mkdirp__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(mkdirp__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _tracer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./tracer */ \"./src/core/tracer.js\");\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  sleep: async ms => {\n    return new Promise((resolve, reject) => {\n      const handle = setTimeout(() => {\n        clearTimeout(handle);\n        resolve();\n      }, ms);\n    });\n  },\n  uploadFile: async (file, fileDir) => {\n    const fileName = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s%s\", uuid__WEBPACK_IMPORTED_MODULE_2___default()(), path__WEBPACK_IMPORTED_MODULE_0___default.a.extname(file.path));\n    const filePath = path__WEBPACK_IMPORTED_MODULE_0___default.a.join(fileDir, fileName);\n    const writable = fs__WEBPACK_IMPORTED_MODULE_3___default.a.createWriteStream(filePath);\n    return new Promise((resolve, reject) => {\n      mkdirp__WEBPACK_IMPORTED_MODULE_4___default.a.sync(fileDir, {});\n      file.on(\"end\", e => {\n        resolve(fileName);\n      });\n      file.on(\"error\", reject);\n      file.pipe(writable);\n    });\n  },\n  uploadBase64Image: async (base64, fileDir) => {\n    const base64Data = base64.replace(/^data:image\\/png;base64,/, \"\");\n    const fileName = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s%s\", uuid__WEBPACK_IMPORTED_MODULE_2___default()(), \".png\");\n    const filePath = path__WEBPACK_IMPORTED_MODULE_0___default.a.join(fileDir, fileName);\n    return new Promise((resolve, reject) => {\n      mkdirp__WEBPACK_IMPORTED_MODULE_4___default.a.sync(fileDir, {});\n      fs__WEBPACK_IMPORTED_MODULE_3___default.a.writeFile(filePath, base64Data, 'base64', function (err) {\n        if (!!err) {\n          reject(err);\n        } else {\n          resolve(fileName);\n        }\n      });\n    });\n  }\n});\n\n//# sourceURL=webpack:///./src/core/helpers.js?");

/***/ }),

/***/ "./src/core/i18n/ar.js":
/*!*****************************!*\
  !*** ./src/core/i18n/ar.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  success: \"success\",\n  error: \"danger\",\n  unknownServerError: \"خطأ غير معروف في الخادم\",\n  emailAlreadyRegistered: \"عنوان البريد الإلكترونى مستخدم سابقا.\",\n  usernameAlreadyRegistered: \"وسجلت بالفعل اسم المستخدم هذا.\",\n  // successfullyRegistered: \"Successfully registered. Please activate your account by validation email.\",\n  successfullyRegistered: \"تم التسجيل بنجاح.\",\n  emailIsIncorrect: \"البريد الالكتروني غير صحيح.\",\n  emailIsNotRegistered: \"البريد الإلكتروني غير مسجل\",\n  usernameIsIncorrect: \"اسم المستخدم غير صحيح\",\n  passwordIsIncorrect: \"كلمة المرور غير صحيحة\",\n  yourAccountIsNotAllowed: \"حسابك غير مفعل حاليا، سيتم تفعيله بعد دقائق معدودة.\",\n  yourAccountIsClosed: \"حسابك مغلق. يرجى الاتصال بدعم العملاء.\",\n  successfullySignedIn: \"تم تسجيل الدخول بنجاح\",\n  successfullySignedOut: \"تم تسجيل الخروج بنجاح\",\n  error404: \"لم يتم العثور على\",\n  error500: \"خطأ غير معروف في الخادم\",\n  successfullySaved: \"تم الحفظ بنجاح\",\n  successfullyAdded: \"أضيف بنجاح\",\n  successfullyEdited: \"تم التعديل بنجاح\",\n  successfullyChanged: \"تغيرت بنجاح\",\n  successfullyDeleted: \"تم الحذف بنجاح\",\n  successfullyReset: \"إعادة تعيين بنجاح\",\n  currentPasswordIncorrect: \"كلمة المرور الحالية غير صحيحة.\",\n  failedDueToUnknownServerError: \"فشل بسبب خطأ غير معروف في الخادم\",\n  invalidParameters: \"معلمات غير صالحة\",\n  notUploaded: \"لم يتم الرفع\",\n  notFound: \"لم يتم العثور على\",\n  noData: \"ليس هنالك معلومات\",\n  successfullyUploaded: \"تم الرفع بنجاح\",\n  successfullyPosted: \"تم النشر بنجاح\",\n  successfullyJoined: \"تم التسجيل بنجاح\",\n  youHaveAlreadyJoined: \"لقد انضممت بالفعل\",\n  successfullySent: \"أرسلت بنجاح\",\n  invalidHash: \"توقيعك غير صالح.\",\n  invalidUser: \"معلوماتك غير صالحة.\",\n  notRegistered: \"انت لم تسجل.\",\n  male: \"ذكر\",\n  female: \"انثى\",\n  passwordIsSuccessfullyChanged: \"تم تغيير كلمة السر بنجاح\",\n  forgotPassword: \"إعادة تعيين كلمة المرور(Reset Password)\",\n  resetEmailIsSent: \"تم ارسال بريد الكتروني يحتوي على تعليمات إعادة تعيين رمز المرور الخاص بك.\",\n  tokenIsValid: \"الرمز صالح\",\n  tokenIsExpired: \"انتهت صلاحية الرمز. أعد المحاولة لإعادة تعيين كلمة المرور.\",\n  tokenIsNotFound: \"الرمز غير صالح. أعد المحاولة لإعادة تعيين كلمة المرور.\",\n  tokenIsAlreadyUsed: \"Token يستخدم بالفعل. أعد المحاولة لإعادة تعيين كلمة المرور.\",\n  accountIsInvalid: \"حسابك غير صالح. حاول مع واحد آخر.\",\n  accountIsNotRegistered: \"حسابك غير مسجل. حاول مع واحد آخر.\",\n  accountIsAlreadyRegistered: \"حسابك مسجل بالفعل. حاول مع واحد آخر.\",\n  yourAccountDoesNotSupportGoogleAuth: \"حسابك لا يدعم تسجيل الدخول إلى Google. جرب طريقة أخرى.\",\n  yourAccountDoesNotSupportFacebookAuth: \"حسابك لا يدعم Facebook Login. جرب طريقة أخرى.\"\n});\n\n//# sourceURL=webpack:///./src/core/i18n/ar.js?");

/***/ }),

/***/ "./src/core/i18n/en.js":
/*!*****************************!*\
  !*** ./src/core/i18n/en.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  success: \"success\",\n  error: \"danger\",\n  unknownServerError: \"Unknown server error\",\n  emailAlreadyRegistered: \"This email is already registered.\",\n  usernameAlreadyRegistered: \"This username is already registered.\",\n  // successfullyRegistered: \"Successfully registered. Please activate your account by validation email.\",\n  successfullyRegistered: \"Successfully registered. Please try to sign in.\",\n  emailIsIncorrect: \"Email is incorrect.\",\n  emailIsNotRegistered: \"Email is not registered.\",\n  usernameIsIncorrect: \"Username is incorrect\",\n  passwordIsIncorrect: \"Password is incorrect\",\n  yourAccountIsNotAllowed: \"Your account is not allowed. Please contact Customer Support.\",\n  yourAccountIsClosed: \"Your account is closed. Please contact Customer Support.\",\n  successfullySignedIn: \"Successfully signed in\",\n  successfullySignedOut: \"Successfully signed out\",\n  error404: \"Not Fount\",\n  error500: \"Unknown server error\",\n  successfullySaved: \"Successfully saved\",\n  successfullyAdded: \"Successfully added\",\n  successfullyEdited: \"Successfully edited\",\n  successfullyChanged: \"Successfully changed\",\n  successfullyDeleted: \"Successfully Deleted\",\n  successfullyReset: \"Successfully Reset\",\n  currentPasswordIncorrect: \"Current password is incorrect.\",\n  failedDueToUnknownServerError: \"Failed due to unknown server error\",\n  invalidParameters: \"Invalid Parameters\",\n  notUploaded: \"Not uploaded\",\n  notFound: \"Not Found\",\n  noData: \"There is no data\",\n  successfullyUploaded: \"Successfully uploaded\",\n  successfullyPosted: \"Successfully posted\",\n  successfullyJoined: \"Successfully joined\",\n  youHaveAlreadyJoined: \"You have already joined.\",\n  successfullySent: \"Successfully sent\",\n  invalidHash: \"Your signature is invalid.\",\n  invalidUser: \"Your information is invalid.\",\n  notRegistered: \"You are not registered.\",\n  male: \"Male\",\n  female: \"Female\",\n  passwordIsSuccessfullyChanged: \"Password is successfully changed\",\n  forgotPassword: \"إعادة تعيين كلمة المرور(Reset Password)\",\n  resetEmailIsSent: \"An email with instructions to reset your password has been sent.\",\n  tokenIsValid: \"Token is valid\",\n  tokenIsExpired: \"Token is expired. Retry to reset the password.\",\n  tokenIsNotFound: \"Token is invalid. Retry to reset the password.\",\n  tokenIsAlreadyUsed: \"Token is already used. Retry to reset the password.\",\n  accountIsInvalid: \"Your account is invalid. Try with another one.\",\n  accountIsNotRegistered: \"Your account is not registered. Try with another one.\",\n  accountIsAlreadyRegistered: \"Your account is already registered. Try with another one.\",\n  yourAccountDoesNotSupportGoogleAuth: \"Your account does not support Google Login. Try another way.\",\n  yourAccountDoesNotSupportFacebookAuth: \"Your account does not support Facebook Login. Try another way.\"\n});\n\n//# sourceURL=webpack:///./src/core/i18n/en.js?");

/***/ }),

/***/ "./src/core/mailer.js":
/*!****************************!*\
  !*** ./src/core/mailer.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var email_templates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! email-templates */ \"email-templates\");\n/* harmony import */ var email_templates__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(email_templates__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n/* harmony import */ var core_tracer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core/tracer */ \"./src/core/tracer.js\");\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sprintf-js */ \"sprintf-js\");\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sprintf_js__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nconst email = new email_templates__WEBPACK_IMPORTED_MODULE_1___default.a({\n  message: {\n    from: {\n      address: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].user,\n      name: core_config__WEBPACK_IMPORTED_MODULE_2__[\"server\"].name\n    }\n  },\n  transport: {\n    jsonTransport: true\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  sendForgotPasswordMail: params => {\n    return new Promise((resolve, reject) => {\n      email.render('../email-templates/forgot-password/html.pug', params).then(html => {\n        let transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default.a.createTransport({\n          // service: smtp.service,\n          host: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].host,\n          port: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].port,\n          secure: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].secure,\n          auth: {\n            user: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].user,\n            //generated by Mailtrap\n            pass: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].pass //generated by Mailtrap\n\n          },\n          tls: {\n            rejectUnauthorized: false\n          }\n        });\n        const mailOptions = {\n          from: Object(sprintf_js__WEBPACK_IMPORTED_MODULE_4__[\"sprintf\"])(\"%s <%s>\", 'PM', core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].user),\n          to: params.email,\n          subject: params.subject,\n          html\n        };\n        transporter.sendMail(mailOptions, function (error, info) {\n          if (error) {\n            reject(error);\n          } else {\n            resolve(info);\n          }\n        });\n      }).catch(reject);\n    });\n  },\n  sendContactUsMail: params => {\n    return new Promise((resolve, reject) => {\n      email.render('../email-templates/contact-us/html.pug', params).then(html => {\n        let transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default.a.createTransport({\n          // service: smtp.service,\n          host: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].host,\n          port: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].port,\n          secure: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].secure,\n          auth: {\n            user: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].user,\n            //generated by Mailtrap\n            pass: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].pass //generated by Mailtrap\n\n          },\n          tls: {\n            rejectUnauthorized: false\n          }\n        });\n        const mailOptions = {\n          from: Object(sprintf_js__WEBPACK_IMPORTED_MODULE_4__[\"sprintf\"])(\"%s <%s>\", 'PM', core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].user),\n          to: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].user,\n          subject: 'اتصل بن(Contact Us)',\n          html\n        };\n        transporter.sendMail(mailOptions, function (error, info) {\n          if (error) {\n            reject(error);\n          } else {\n            resolve(info);\n          }\n        });\n      }).catch(reject);\n    });\n  },\n  sendCourseJoinMail: async (to, name, subject) => {\n    return new Promise((resolve, reject) => {\n      email.render('../email-templates/course-join/html.pug', {}).then(html => {\n        let transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default.a.createTransport({\n          // service: smtp.service,\n          host: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].host,\n          port: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].port,\n          secure: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].secure,\n          auth: {\n            user: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].user,\n            //generated by Mailtrap\n            pass: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].pass //generated by Mailtrap\n\n          },\n          tls: {\n            rejectUnauthorized: false\n          }\n        });\n        const mailOptions = {\n          from: Object(sprintf_js__WEBPACK_IMPORTED_MODULE_4__[\"sprintf\"])(\"%s <%s>\", name, core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].user),\n          to: to,\n          subject: subject,\n          html: html\n        };\n        transporter.sendMail(mailOptions, function (error, info) {\n          if (error) {\n            reject(error);\n          } else {\n            resolve(info);\n          }\n        });\n      }).catch(reject);\n    });\n  },\n  sendMassMail: async (to, name, subject, message) => {\n    return new Promise((resolve, reject) => {\n      // email.render('../email_templates/email_verify/html.pug', {\n      //   name: name,\n      //   subject,\n      //   message,\n      // })\n      //   .then((html) => {\n      let transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default.a.createTransport({\n        // service: smtp.service,\n        host: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].host,\n        port: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].port,\n        secure: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].secure,\n        auth: {\n          user: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].user,\n          //generated by Mailtrap\n          pass: core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].pass //generated by Mailtrap\n\n        },\n        tls: {\n          rejectUnauthorized: false\n        }\n      });\n      const mailOptions = {\n        from: Object(sprintf_js__WEBPACK_IMPORTED_MODULE_4__[\"sprintf\"])(\"%s <%s>\", name, core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].user),\n        to: to,\n        subject: subject,\n        text: message\n      }; // tracer.info('mailOptions', mailOptions);\n\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (error) {\n          reject(error);\n        } else {\n          resolve(info);\n        }\n      }); //     })\n      //     .catch(reject);\n    });\n  }\n});\n\n//# sourceURL=webpack:///./src/core/mailer.js?");

/***/ }),

/***/ "./src/core/myCrypto.js":
/*!******************************!*\
  !*** ./src/core/myCrypto.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  hmacHex: plain => {\n    const cipher = crypto__WEBPACK_IMPORTED_MODULE_0___default.a.createHmac(\"sha256\", core_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].server.secret).update(plain).digest(\"hex\"); // console.log(\"signMessage\", plain, cipher);\n\n    return cipher;\n  }\n});\n\n//# sourceURL=webpack:///./src/core/myCrypto.js?");

/***/ }),

/***/ "./src/core/strings.js":
/*!*****************************!*\
  !*** ./src/core/strings.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_i18n_en__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core/i18n/en */ \"./src/core/i18n/en.js\");\n/* harmony import */ var core_i18n_ar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core/i18n/ar */ \"./src/core/i18n/ar.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  en: core_i18n_en__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  ar: core_i18n_ar__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n});\n\n//# sourceURL=webpack:///./src/core/strings.js?");

/***/ }),

/***/ "./src/core/tracer.js":
/*!****************************!*\
  !*** ./src/core/tracer.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var tracer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tracer */ \"tracer\");\n/* harmony import */ var tracer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(tracer__WEBPACK_IMPORTED_MODULE_0__);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (tracer__WEBPACK_IMPORTED_MODULE_0___default.a.colorConsole({\n  format: [\"{{timestamp}} {{file}}:{{line}} <{{title}}> {{message}}\", {\n    error: \"{{timestamp}} {{file}}:{{line}} <{{title}}> {{message}}\\nCall Stack:\\n{{stack}}\" // error format\n\n  }],\n  dateformat: \"HH:MM:ss.L\",\n  preprocess: data => {\n    data.title = data.title.toUpperCase();\n  }\n}));\n\n//# sourceURL=webpack:///./src/core/tracer.js?");

/***/ }),

/***/ "./src/routes/admin-api.js":
/*!*********************************!*\
  !*** ./src/routes/admin-api.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _admin_api_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./admin-api/auth */ \"./src/routes/admin-api/auth.js\");\n/* harmony import */ var _admin_api_profile__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./admin-api/profile */ \"./src/routes/admin-api/profile.js\");\n/* harmony import */ var _admin_api_users__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./admin-api/users */ \"./src/routes/admin-api/users.js\");\n/* harmony import */ var _admin_api_about__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./admin-api/about */ \"./src/routes/admin-api/about.js\");\n/* harmony import */ var _admin_api_mass_email__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./admin-api/mass-email */ \"./src/routes/admin-api/mass-email.js\");\n\n\n\n\n\n\nconst router = express__WEBPACK_IMPORTED_MODULE_0___default.a.Router();\nrouter.use(\"/auth\", _admin_api_auth__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\nrouter.use(\"/profile\", _admin_api_profile__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\nrouter.use(\"/users\", _admin_api_users__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nrouter.use(\"/about\", _admin_api_about__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\nrouter.use(\"/mass-email\", _admin_api_mass_email__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);\n\n//# sourceURL=webpack:///./src/routes/admin-api.js?");

/***/ }),

/***/ "./src/routes/admin-api/about.js":
/*!***************************************!*\
  !*** ./src/routes/admin-api/about.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sprintf-js */ \"sprintf-js\");\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sprintf_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var dateformat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dateformat */ \"dateformat\");\n/* harmony import */ var dateformat__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dateformat__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var mkdirp__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mkdirp */ \"mkdirp\");\n/* harmony import */ var mkdirp__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(mkdirp__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n/* harmony import */ var core_db__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core/db */ \"./src/core/db.js\");\n/* harmony import */ var core_strings__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core/strings */ \"./src/core/strings.js\");\n/* harmony import */ var core_tracer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core/tracer */ \"./src/core/tracer.js\");\n/* harmony import */ var core_consts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core/consts */ \"./src/core/consts.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst loadAboutUs = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_9__[\"default\"][lang];\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s`;\", core_config__WEBPACK_IMPORTED_MODULE_7__[\"dbTblName\"].aboutUs);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_8__[\"default\"].query(sql);\n    let data = {\n      brochure: \"\",\n      video: \"\"\n    };\n\n    if (rows.length > 0) {\n      data = rows[0];\n    }\n\n    res.status(200).send({\n      result: langs.success,\n      data\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst saveAboutUs = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_9__[\"default\"][lang];\n  const {\n    scope,\n    brochure,\n    video\n  } = req.body;\n  const today = new Date();\n  const date = dateformat__WEBPACK_IMPORTED_MODULE_2___default()(today, \"yyyy-mm-dd\");\n  const time = dateformat__WEBPACK_IMPORTED_MODULE_2___default()(today, \"hh:MM TT\");\n  const timestamp = today.getTime();\n  const appDir = process.cwd();\n  const fileDir = path__WEBPACK_IMPORTED_MODULE_3___default.a.join(appDir, \"public\", core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].uploadPath.aboutUs);\n  const brochureName = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s%s\", uuid__WEBPACK_IMPORTED_MODULE_4___default()(), path__WEBPACK_IMPORTED_MODULE_3___default.a.extname(brochure.path));\n  const brochurePath = path__WEBPACK_IMPORTED_MODULE_3___default.a.join(fileDir, brochureName);\n  const brochureWritable = fs__WEBPACK_IMPORTED_MODULE_5___default.a.createWriteStream(brochurePath);\n  const brochureMedia = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s/%s\", core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].uploadPath.aboutUs, brochureName);\n  const videoName = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s%s\", uuid__WEBPACK_IMPORTED_MODULE_4___default()(), path__WEBPACK_IMPORTED_MODULE_3___default.a.extname(video.path));\n  const videoPath = path__WEBPACK_IMPORTED_MODULE_3___default.a.join(fileDir, videoName);\n  const videoWritable = fs__WEBPACK_IMPORTED_MODULE_5___default.a.createWriteStream(videoPath);\n  const videoMedia = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s/%s\", core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].uploadPath.aboutUs, videoName);\n  mkdirp__WEBPACK_IMPORTED_MODULE_6___default()(fileDir, () => {\n    brochure.on(\"end\", async e => {\n      video.on(\"end\", async e => {\n        let sql;\n        let rows;\n\n        if (scope) {\n          sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `scope` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_7__[\"dbTblName\"].aboutUs);\n          rows = await core_db__WEBPACK_IMPORTED_MODULE_8__[\"default\"].query(sql, [scope]);\n\n          if (rows.length > 0) {\n            let oldFilename = path__WEBPACK_IMPORTED_MODULE_3___default.a.join(fileDir, path__WEBPACK_IMPORTED_MODULE_3___default.a.basename(rows[0][\"brochure\"]));\n            core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].debug(oldFilename);\n            fs__WEBPACK_IMPORTED_MODULE_5___default.a.unlink(oldFilename, e => {});\n            oldFilename = path__WEBPACK_IMPORTED_MODULE_3___default.a.join(fileDir, path__WEBPACK_IMPORTED_MODULE_3___default.a.basename(rows[0][\"video\"]));\n            core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].debug(oldFilename);\n            fs__WEBPACK_IMPORTED_MODULE_5___default.a.unlink(oldFilename, e => {});\n          }\n        }\n\n        const newRows = [[scope || null, brochureMedia, videoMedia]];\n        sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ? ON DUPLICATE KEY UPDATE `brochure` = VALUES(`brochure`), `video` = VALUES(`video`);\", core_config__WEBPACK_IMPORTED_MODULE_7__[\"dbTblName\"].aboutUs);\n\n        try {\n          rows = await core_db__WEBPACK_IMPORTED_MODULE_8__[\"default\"].query(sql, [newRows]);\n          res.status(200).send({\n            result: langs.success,\n            message: langs.successfullySaved,\n            data: rows\n          });\n        } catch (err) {\n          core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(JSON.stringify(err));\n          core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(__filename);\n          res.status(200).send({\n            result: langs.error,\n            message: langs.unknownServerError,\n            err\n          });\n        }\n      });\n      video.on(\"error\", err => {\n        core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(JSON.stringify(err));\n        core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(__filename);\n        res.status(200).send({\n          result: langs.error,\n          message: langs.unknownServerError,\n          err\n        });\n      });\n      video.pipe(videoWritable);\n    });\n    brochure.on(\"error\", err => {\n      core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(JSON.stringify(err));\n      core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(__filename);\n      res.status(200).send({\n        result: langs.error,\n        message: langs.unknownServerError,\n        err\n      });\n    });\n    brochure.pipe(brochureWritable);\n  });\n};\n\nconst saveAboutUsBrochure = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_9__[\"default\"][lang];\n  const {\n    scope,\n    brochure,\n    originBrochure\n  } = req.body;\n  const today = new Date();\n  const date = dateformat__WEBPACK_IMPORTED_MODULE_2___default()(today, \"yyyy-mm-dd\");\n  const time = dateformat__WEBPACK_IMPORTED_MODULE_2___default()(today, \"hh:MM TT\");\n  const timestamp = today.getTime();\n  const appDir = process.cwd();\n  const fileDir = path__WEBPACK_IMPORTED_MODULE_3___default.a.join(appDir, \"public\", core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].uploadPath.aboutUs);\n  const brochureName = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s%s\", uuid__WEBPACK_IMPORTED_MODULE_4___default()(), path__WEBPACK_IMPORTED_MODULE_3___default.a.extname(brochure.path));\n  const brochurePath = path__WEBPACK_IMPORTED_MODULE_3___default.a.join(fileDir, brochureName);\n  const brochureWritable = fs__WEBPACK_IMPORTED_MODULE_5___default.a.createWriteStream(brochurePath);\n  const brochureMedia = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s/%s\", core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].uploadPath.aboutUs, brochureName);\n  mkdirp__WEBPACK_IMPORTED_MODULE_6___default()(fileDir, () => {\n    brochure.on(\"end\", async e => {\n      let sql;\n      let rows;\n\n      if (scope) {\n        sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `scope` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_7__[\"dbTblName\"].aboutUs);\n        rows = await core_db__WEBPACK_IMPORTED_MODULE_8__[\"default\"].query(sql, [scope]);\n\n        if (rows.length > 0) {\n          let oldFilename = path__WEBPACK_IMPORTED_MODULE_3___default.a.join(fileDir, path__WEBPACK_IMPORTED_MODULE_3___default.a.basename(rows[0][\"brochure\"]));\n          core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].debug(oldFilename);\n          fs__WEBPACK_IMPORTED_MODULE_5___default.a.unlink(oldFilename, e => {});\n        }\n      }\n\n      const newRows = [[scope || null, brochureMedia, originBrochure, \"\", \"\"]];\n      sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ? ON DUPLICATE KEY UPDATE `brochure` = VALUES(`brochure`), `originBrochure` = VALUES(`originBrochure`);\", core_config__WEBPACK_IMPORTED_MODULE_7__[\"dbTblName\"].aboutUs);\n\n      try {\n        rows = await core_db__WEBPACK_IMPORTED_MODULE_8__[\"default\"].query(sql, [newRows]);\n        res.status(200).send({\n          result: langs.success,\n          message: langs.successfullySaved,\n          data: {\n            originBrochure\n          }\n        });\n      } catch (err) {\n        core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(JSON.stringify(err));\n        core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(__filename);\n        res.status(200).send({\n          result: langs.error,\n          message: langs.unknownServerError,\n          err\n        });\n      }\n    });\n    brochure.on(\"error\", err => {\n      core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(JSON.stringify(err));\n      core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(__filename);\n      res.status(200).send({\n        result: langs.error,\n        message: langs.unknownServerError,\n        err\n      });\n    });\n    brochure.pipe(brochureWritable);\n  });\n};\n\nconst saveAboutUsVideo = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_9__[\"default\"][lang];\n  const {\n    scope,\n    brochure,\n    video,\n    originVideo\n  } = req.body;\n  const today = new Date();\n  const date = dateformat__WEBPACK_IMPORTED_MODULE_2___default()(today, \"yyyy-mm-dd\");\n  const time = dateformat__WEBPACK_IMPORTED_MODULE_2___default()(today, \"hh:MM TT\");\n  const timestamp = today.getTime();\n  const appDir = process.cwd();\n  const fileDir = path__WEBPACK_IMPORTED_MODULE_3___default.a.join(appDir, \"public\", core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].uploadPath.aboutUs);\n  const videoName = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s%s\", uuid__WEBPACK_IMPORTED_MODULE_4___default()(), path__WEBPACK_IMPORTED_MODULE_3___default.a.extname(video.path));\n  const videoPath = path__WEBPACK_IMPORTED_MODULE_3___default.a.join(fileDir, videoName);\n  const videoWritable = fs__WEBPACK_IMPORTED_MODULE_5___default.a.createWriteStream(videoPath);\n  const videoMedia = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s/%s\", core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].uploadPath.aboutUs, videoName);\n  mkdirp__WEBPACK_IMPORTED_MODULE_6___default()(fileDir, () => {\n    video.on(\"end\", async e => {\n      let sql;\n      let rows;\n\n      if (scope) {\n        sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `scope` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_7__[\"dbTblName\"].aboutUs);\n        rows = await core_db__WEBPACK_IMPORTED_MODULE_8__[\"default\"].query(sql, [scope]);\n\n        if (rows.length > 0) {\n          let oldFilename = path__WEBPACK_IMPORTED_MODULE_3___default.a.join(fileDir, path__WEBPACK_IMPORTED_MODULE_3___default.a.basename(rows[0][\"video\"]));\n          core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].debug(oldFilename);\n          fs__WEBPACK_IMPORTED_MODULE_5___default.a.unlink(oldFilename, e => {});\n        }\n      }\n\n      const newRows = [[scope || null, \"\", \"\", videoMedia, originVideo]];\n      sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ? ON DUPLICATE KEY UPDATE `video` = VALUES(`video`), `originVideo` = VALUES(`originVideo`);\", core_config__WEBPACK_IMPORTED_MODULE_7__[\"dbTblName\"].aboutUs);\n\n      try {\n        rows = await core_db__WEBPACK_IMPORTED_MODULE_8__[\"default\"].query(sql, [newRows]);\n        res.status(200).send({\n          result: langs.success,\n          message: langs.successfullySaved,\n          data: {\n            originVideo\n          }\n        });\n      } catch (err) {\n        core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(JSON.stringify(err));\n        core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(__filename);\n        res.status(200).send({\n          result: langs.error,\n          message: langs.unknownServerError,\n          err\n        });\n      }\n    });\n    video.on(\"error\", err => {\n      core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(JSON.stringify(err));\n      core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(__filename);\n      res.status(200).send({\n        result: langs.error,\n        message: langs.unknownServerError,\n        err\n      });\n    });\n    video.pipe(videoWritable);\n  });\n};\n\nconst router = express__WEBPACK_IMPORTED_MODULE_0___default.a.Router();\nrouter.post(\"/load-aboutus\", loadAboutUs);\nrouter.post(\"/save-aboutus\", saveAboutUs);\nrouter.post(\"/save-aboutus-brochure\", saveAboutUsBrochure);\nrouter.post(\"/save-aboutus-video\", saveAboutUsVideo);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);\n\n//# sourceURL=webpack:///./src/routes/admin-api/about.js?");

/***/ }),

/***/ "./src/routes/admin-api/auth.js":
/*!**************************************!*\
  !*** ./src/routes/admin-api/auth.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sprintf-js */ \"sprintf-js\");\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sprintf_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n/* harmony import */ var core_db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core/db */ \"./src/core/db.js\");\n/* harmony import */ var core_myCrypto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core/myCrypto */ \"./src/core/myCrypto.js\");\n/* harmony import */ var core_strings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core/strings */ \"./src/core/strings.js\");\n/* harmony import */ var core_tracer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core/tracer */ \"./src/core/tracer.js\");\n/* harmony import */ var core_consts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core/consts */ \"./src/core/consts.js\");\n\n\n\n\n\n\n\n\n\n\nconst signInProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_8__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_6__[\"default\"][lang];\n  const {\n    email,\n    password\n  } = req.body;\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"SELECT `email` FROM `%s` WHERE BINARY `email` = ? AND `allow` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].admins);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [email, 1]);\n\n    if (rows.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.emailIsNotRegistered\n      });\n      return;\n    }\n\n    const hash = core_myCrypto__WEBPACK_IMPORTED_MODULE_5__[\"default\"].hmacHex(password);\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"SELECT U.* FROM `%s` U WHERE BINARY U.email = ? AND BINARY U.hash = ? AND `allow` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].admins);\n    rows = await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [email, hash, 1]);\n\n    if (rows.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.passwordIsIncorrect\n      });\n      return;\n    }\n\n    const user = rows[0];\n    const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default.a.sign({\n      id: user[\"id\"],\n      email: user[\"email\"],\n      username: user[\"username\"]\n    }, core_config__WEBPACK_IMPORTED_MODULE_3__[\"session\"].secretAdmin, {// expiresIn: '5m',\n    });\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullySignedIn,\n      data: {\n        user,\n        token\n      }\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst signUpProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_8__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_6__[\"default\"][lang];\n  const {\n    email,\n    password,\n    username,\n    role\n  } = req.body;\n  const hash = core_myCrypto__WEBPACK_IMPORTED_MODULE_5__[\"default\"].hmacHex(password);\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"SELECT `email` FROM `%s` WHERE BINARY `email` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].admins);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [email]);\n\n    if (rows.length > 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.emailAlreadyRegistered\n      });\n      return;\n    }\n\n    const newRows = [[null, email, hash, username, role, 0]];\n    console.log(newRows);\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ?;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].admins);\n    await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [newRows]); // sendVerificationEmail(email);\n\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullyRegistered\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_7__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst router = express__WEBPACK_IMPORTED_MODULE_0___default.a.Router();\nrouter.post(\"/sign-in\", signInProc);\nrouter.post(\"/sign-up\", signUpProc);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);\n\n//# sourceURL=webpack:///./src/routes/admin-api/auth.js?");

/***/ }),

/***/ "./src/routes/admin-api/mass-email.js":
/*!********************************************!*\
  !*** ./src/routes/admin-api/mass-email.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sprintf-js */ \"sprintf-js\");\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sprintf_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n/* harmony import */ var core_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core/db */ \"./src/core/db.js\");\n/* harmony import */ var core_strings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core/strings */ \"./src/core/strings.js\");\n/* harmony import */ var core_tracer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core/tracer */ \"./src/core/tracer.js\");\n/* harmony import */ var core_consts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core/consts */ \"./src/core/consts.js\");\n/* harmony import */ var core_mailer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core/mailer */ \"./src/core/mailer.js\");\n/* harmony import */ var core_helpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core/helpers */ \"./src/core/helpers.js\");\n\n\n\n\n\n\n\n\n\n\nconst sendProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_6__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_6__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_4__[\"default\"][lang];\n  const {\n    name,\n    subject,\n    message\n  } = req.body;\n\n  try {\n    let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s`;\", core_config__WEBPACK_IMPORTED_MODULE_2__[\"dbTblName\"].users);\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_3__[\"default\"].query(sql);\n    let to = [];\n    let result = [];\n\n    for (let row of rows) {\n      // mailer.sendMassMail(row['email'], subject, message);\n      to.push(row[\"email\"]);\n\n      if (to.length >= core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].limit.receipt) {\n        result.push((await core_mailer__WEBPACK_IMPORTED_MODULE_7__[\"default\"].sendMassMail(to.join(\",\"), name, subject, message)));\n        to = [];\n        await core_helpers__WEBPACK_IMPORTED_MODULE_8__[\"default\"].sleep(60000 / core_config__WEBPACK_IMPORTED_MODULE_2__[\"smtp\"].limit.message);\n      }\n    }\n\n    if (!!to.length) {\n      result.push((await core_mailer__WEBPACK_IMPORTED_MODULE_7__[\"default\"].sendMassMail(to.join(\",\"), name, subject, message)));\n    }\n\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullySent // data: result,\n\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_5__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst router = express__WEBPACK_IMPORTED_MODULE_0___default.a.Router();\nrouter.post(\"/send\", sendProc);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);\n\n//# sourceURL=webpack:///./src/routes/admin-api/mass-email.js?");

/***/ }),

/***/ "./src/routes/admin-api/profile.js":
/*!*****************************************!*\
  !*** ./src/routes/admin-api/profile.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sprintf-js */ \"sprintf-js\");\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sprintf_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n/* harmony import */ var core_db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core/db */ \"./src/core/db.js\");\n/* harmony import */ var core_strings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core/strings */ \"./src/core/strings.js\");\n/* harmony import */ var core_tracer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core/tracer */ \"./src/core/tracer.js\");\n/* harmony import */ var core_consts__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core/consts */ \"./src/core/consts.js\");\n/* harmony import */ var core_myCrypto__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core/myCrypto */ \"./src/core/myCrypto.js\");\n\n\n\n\n\n\n\n\n\n\nconst saveProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_5__[\"default\"][lang];\n  let {\n    id,\n    email,\n    username\n  } = req.body;\n  const newRows = [[id, email, \"\", username, \"\", 0]];\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ? ON DUPLICATE KEY UPDATE `email` = VALUES(`email`), `username` = VALUES(`username`);\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].admins);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [newRows]);\n    const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.sign({\n      id: id,\n      email: email,\n      username: username\n    }, core_config__WEBPACK_IMPORTED_MODULE_3__[\"session\"].secret);\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullySaved,\n      data: {\n        user: {\n          id,\n          email,\n          username\n        },\n        token\n      }\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst changePasswordProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_5__[\"default\"][lang];\n  let {\n    id,\n    password0,\n    password\n  } = req.body;\n  const hash0 = core_myCrypto__WEBPACK_IMPORTED_MODULE_8__[\"default\"].hmacHex(password0 || \"\");\n  const hash = core_myCrypto__WEBPACK_IMPORTED_MODULE_8__[\"default\"].hmacHex(password || \"\");\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `id` = ? AND `hash` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].admins);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [id, hash0]);\n\n    if (rows.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.currentPasswordIncorrect\n      });\n      return;\n    }\n\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"UPDATE `%s` SET `hash` = ? WHERE `id` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].admins);\n    await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [hash, id]);\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullyChanged\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst router = express__WEBPACK_IMPORTED_MODULE_0___default.a.Router();\nrouter.post(\"/save\", saveProc);\nrouter.post(\"/change-password\", changePasswordProc);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);\n\n//# sourceURL=webpack:///./src/routes/admin-api/profile.js?");

/***/ }),

/***/ "./src/routes/admin-api/users.js":
/*!***************************************!*\
  !*** ./src/routes/admin-api/users.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sprintf-js */ \"sprintf-js\");\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sprintf_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var dateformat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dateformat */ \"dateformat\");\n/* harmony import */ var dateformat__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dateformat__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n/* harmony import */ var core_db__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core/db */ \"./src/core/db.js\");\n/* harmony import */ var core_strings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core/strings */ \"./src/core/strings.js\");\n/* harmony import */ var core_tracer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core/tracer */ \"./src/core/tracer.js\");\n/* harmony import */ var core_consts__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core/consts */ \"./src/core/consts.js\");\n\n\n\n\n\n\n\n\n\nconst _loadData = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_5__[\"default\"][lang];\n  let {\n    page,\n    pageSize,\n    userId,\n    scope,\n    search\n  } = req.body;\n  page || (page = 1);\n  pageSize || (pageSize = core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].defaultPageSize);\n  const start = pageSize * (page - 1);\n  search = `%${search}%`;\n  let allowedWhere = \"\";\n\n  if (scope === \"new\") {\n    allowedWhere = \"AND `allowedDate` = ''\";\n  }\n\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `deletedDate` = ? AND (`email` LIKE ? OR `username` LIKE ? AND `firstName` LIKE ? AND `lastName` LIKE ? AND `jobTitle` LIKE ? AND `sector` LIKE ? AND `company` LIKE ? AND `city` LIKE ? AND `phone` LIKE ?) %s ORDER BY `createdDate` DESC LIMIT ?, ?;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].users, allowedWhere); // let sql = sprintf(\"SELECT * FROM `%s` WHERE `deletedDate` = ? %s ORDER BY LENGTH(`allowedDate`) ASC, `createdDate` DESC LIMIT ?, ?;\", dbTblName.users, allowedWhere);\n  // tracer.info(sql);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [\"\", search, search, search, search, search, search, search, search, search, start, pageSize]);\n    let number = start + 1;\n\n    for (let row of rows) {\n      row[\"number\"] = number++;\n      row[\"gender\"] = row[\"gender\"] === core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].male ? langs.male : langs.female;\n    }\n\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT COUNT(`id`) `count` FROM `%s` WHERE `deletedDate` = ? AND (`email` LIKE ? OR `username` LIKE ? AND `firstName` LIKE ? AND `lastName` LIKE ? AND `jobTitle` LIKE ? AND `sector` LIKE ? AND `company` LIKE ? AND `city` LIKE ? AND `phone` LIKE ?) %s;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].users, allowedWhere);\n    let count = await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [\"\", search, search, search, search, search, search, search, search, search]);\n    let pageCount = 0;\n    count.length > 0 && (pageCount = Math.ceil(count[0]['count'] / pageSize));\n    res.status(200).send({\n      result: langs.success,\n      count: count[0]['count'],\n      pageCount,\n      data: rows\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst listProc = async (req, res, next) => {\n  _loadData(req, res, next);\n};\n\nconst allowProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_5__[\"default\"][lang];\n  const {\n    id,\n    allow\n  } = req.body;\n  const today = new Date();\n  const date = dateformat__WEBPACK_IMPORTED_MODULE_2___default()(today, \"yyyy-mm-dd\");\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"UPDATE `%s` SET `allowedDate` = ? WHERE `id` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].users);\n\n  try {\n    await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [!!allow ? date : \"\", id]);\n\n    _loadData(req, res, next);\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst deleteProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_5__[\"default\"][lang];\n  const {\n    id\n  } = req.body;\n  const today = new Date();\n  const date = dateformat__WEBPACK_IMPORTED_MODULE_2___default()(today, \"yyyy-mm-dd\");\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"UPDATE `%s` SET `deletedDate` = ? WHERE `id` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].users);\n\n  try {\n    await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [date, id]);\n\n    _loadData(req, res, next);\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst saveProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_5__[\"default\"][lang];\n  const {\n    id,\n    email,\n    username,\n    firstName,\n    fatherName,\n    lastName,\n    gender,\n    birthday,\n    jobTitle,\n    sector,\n    company,\n    city,\n    phone\n  } = req.body;\n  const today = new Date();\n  const date = dateformat__WEBPACK_IMPORTED_MODULE_2___default()(today, \"yyyy-mm-dd\");\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"UPDATE `%s` SET `email` = ?, `username` = ?, `firstName` = ?, `fatherName` = ?, `lastName` = ?, `gender` = ?, `birthday` = ?, `jobTitle` = ?, `sector` = ?, `company` = ?, `city` = ?, `phone` = ?, `modifiedDate` = ? WHERE `id` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].users);\n\n  try {\n    await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [email, username, firstName, fatherName, lastName, gender, birthday, jobTitle, sector, company, city, phone, date, id]);\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullySaved\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst getProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_5__[\"default\"][lang];\n  const {\n    id\n  } = req.body;\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `id` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].users);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [id]);\n\n    if (rows.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.noData\n      });\n      return;\n    }\n\n    const row = rows[0];\n    res.status(200).send({\n      result: langs.success,\n      data: row\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst countProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_5__[\"default\"][lang];\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT (SELECT COUNT(`id`) FROM `%s` WHERE `deletedDate` = ?) `count`, (SELECT COUNT(`id`) FROM `%s` WHERE `allowedDate` = ? AND `deletedDate` = ?) `countAwaiting`;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].users, core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].users);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [\"\", \"\", \"\"]);\n\n    if (rows.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.noData\n      });\n      return;\n    }\n\n    const row = rows[0];\n    res.status(200).send({\n      result: langs.success,\n      data: {\n        count: row.count,\n        countAwaiting: row.countAwaiting\n      }\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst signInHistoryProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_5__[\"default\"][lang];\n  const {\n    days\n  } = req.body;\n  const today = new Date();\n  const before = new Date(today.getTime() - (days || 15) * 24 * 3600000);\n  const startDate = dateformat__WEBPACK_IMPORTED_MODULE_2___default()(before, \"yyyy-mm-dd\");\n  const endDate = dateformat__WEBPACK_IMPORTED_MODULE_2___default()(today, \"yyyy-mm-dd\");\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT `date`, COUNT(`date`) `count` FROM `%s` WHERE `date` BETWEEN ? AND ? GROUP BY `date` ORDER BY `date` ASC;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].usersSigninHistory);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql, [startDate, endDate]);\n\n    for (let row of rows) {\n      // row[\"date\"] = sprintf(\"%s GMT\", dateformat(new Date(row[\"date\"]), \"mm-dd-yyyy\"));\n      row[\"date\"] = new Date(row[\"date\"]).getTime();\n    }\n\n    res.status(200).send({\n      result: langs.success,\n      data: rows\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst countPerGenderProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_7__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_5__[\"default\"][lang];\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT `gender`, COUNT(`id`) `count` FROM `%s` GROUP BY `gender`;\", core_config__WEBPACK_IMPORTED_MODULE_3__[\"dbTblName\"].users);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_4__[\"default\"].query(sql);\n    res.status(200).send({\n      result: langs.success,\n      data: rows\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst router = express__WEBPACK_IMPORTED_MODULE_0___default.a.Router();\nrouter.post(\"/list\", listProc);\nrouter.post(\"/allow\", allowProc);\nrouter.post(\"/delete\", deleteProc);\nrouter.post(\"/get\", getProc);\nrouter.post(\"/save\", saveProc);\nrouter.post(\"/count\", countProc);\nrouter.post(\"/sign-in-history\", signInHistoryProc);\nrouter.post(\"/count-per-gender\", countPerGenderProc);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);\n\n//# sourceURL=webpack:///./src/routes/admin-api/users.js?");

/***/ }),

/***/ "./src/routes/api.js":
/*!***************************!*\
  !*** ./src/routes/api.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api/auth */ \"./src/routes/api/auth.js\");\n/* harmony import */ var _api_account__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api/account */ \"./src/routes/api/account.js\");\n/* harmony import */ var _api_profile__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./api/profile */ \"./src/routes/api/profile.js\");\n/* harmony import */ var _api_about__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./api/about */ \"./src/routes/api/about.js\");\n\n\n\n\n\nconst router = express__WEBPACK_IMPORTED_MODULE_0___default.a.Router();\nrouter.use(\"/auth\", _api_auth__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\nrouter.use(\"/account\", _api_account__WEBPACK_IMPORTED_MODULE_2__[\"default\"]); // router.use(\"/profile\", profileRouter);\n\nrouter.use(\"/about\", _api_about__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);\n\n//# sourceURL=webpack:///./src/routes/api.js?");

/***/ }),

/***/ "./src/routes/api/about.js":
/*!*********************************!*\
  !*** ./src/routes/api/about.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sprintf-js */ \"sprintf-js\");\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sprintf_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var dateformat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dateformat */ \"dateformat\");\n/* harmony import */ var dateformat__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dateformat__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var mkdirp__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mkdirp */ \"mkdirp\");\n/* harmony import */ var mkdirp__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(mkdirp__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n/* harmony import */ var core_db__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core/db */ \"./src/core/db.js\");\n/* harmony import */ var core_strings__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core/strings */ \"./src/core/strings.js\");\n/* harmony import */ var core_tracer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core/tracer */ \"./src/core/tracer.js\");\n/* harmony import */ var core_consts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core/consts */ \"./src/core/consts.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst loadAboutUs = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_11__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_9__[\"default\"][lang];\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s`;\", core_config__WEBPACK_IMPORTED_MODULE_7__[\"dbTblName\"].aboutUs);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_8__[\"default\"].query(sql);\n    let data = {\n      brochure: \"\",\n      video: \"\"\n    };\n\n    if (rows.length > 0) {\n      data = rows[0];\n    }\n\n    res.status(200).send({\n      result: langs.success,\n      data\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst router = express__WEBPACK_IMPORTED_MODULE_0___default.a.Router();\nrouter.post(\"/load-aboutus\", loadAboutUs);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);\n\n//# sourceURL=webpack:///./src/routes/api/about.js?");

/***/ }),

/***/ "./src/routes/api/account.js":
/*!***********************************!*\
  !*** ./src/routes/api/account.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sprintf-js */ \"sprintf-js\");\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sprintf_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var dateformat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dateformat */ \"dateformat\");\n/* harmony import */ var dateformat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dateformat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n/* harmony import */ var core_db__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core/db */ \"./src/core/db.js\");\n/* harmony import */ var core_strings__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core/strings */ \"./src/core/strings.js\");\n/* harmony import */ var core_tracer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core/tracer */ \"./src/core/tracer.js\");\n/* harmony import */ var core_consts__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core/consts */ \"./src/core/consts.js\");\n/* harmony import */ var core_myCrypto__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core/myCrypto */ \"./src/core/myCrypto.js\");\n/* harmony import */ var core_helpers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core/helpers */ \"./src/core/helpers.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst avatarProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_8__[\"default\"][lang];\n  const {\n    id\n  } = req.body;\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `id` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_6__[\"dbTblName\"].userAvatars);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_7__[\"default\"].query(sql, [id]);\n\n    if (!!rows.length) {\n      const row = rows[0];\n      res.status(200).send({\n        result: langs.success,\n        data: {\n          url: !!row.url.length ? row.url : core_consts__WEBPACK_IMPORTED_MODULE_10__[\"avatar\"].DEFAULT_AVATAR,\n          originUrl: !!row.originUrl.length ? row.originUrl : core_consts__WEBPACK_IMPORTED_MODULE_10__[\"avatar\"].DEFAULT_AVATAR,\n          scale: row.scale,\n          borderRadius: row.borderRadius,\n          position: {\n            x: row.xPosition,\n            y: row.yPosition\n          },\n          rotate: row.rotate\n        }\n      });\n    } else {\n      res.status(200).send({\n        result: langs.success,\n        data: {\n          url: core_consts__WEBPACK_IMPORTED_MODULE_10__[\"avatar\"].DEFAULT_AVATAR,\n          originUrl: core_consts__WEBPACK_IMPORTED_MODULE_10__[\"avatar\"].DEFAULT_AVATAR,\n          scale: 1,\n          borderRadius: 0,\n          position: {\n            x: 0.5,\n            y: 0.5\n          },\n          rotate: 0\n        }\n      });\n    }\n  } catch (err) {\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError\n    });\n  }\n};\n\nconst saveAvatarProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_8__[\"default\"][lang];\n  const {\n    id,\n    file,\n    base64,\n    scale,\n    borderRadius,\n    xPosition,\n    yPosition,\n    rotate\n  } = req.body;\n  const today = new Date();\n  const date = dateformat__WEBPACK_IMPORTED_MODULE_3___default()(today, \"yyyy-mm-dd\"); // const time = dateformat(today, \"hh:MM TT\");\n  // const timestamp = today.getTime();\n\n  const appDir = process.cwd();\n  const fileDir = path__WEBPACK_IMPORTED_MODULE_4___default.a.join(appDir, \"public\", core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].uploadPath.avatars);\n  let fileName = \"\";\n\n  if (!!file) {\n    fileName = await core_helpers__WEBPACK_IMPORTED_MODULE_12__[\"default\"].uploadFile(file, fileDir);\n  }\n\n  let originUrl = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s/%s\", core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].uploadPath.avatars, fileName);\n  let fileName2 = await core_helpers__WEBPACK_IMPORTED_MODULE_12__[\"default\"].uploadBase64Image(base64, fileDir);\n  let url = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s/%s\", core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].uploadPath.avatars, fileName2);\n  let sql;\n  let rows;\n  let row;\n\n  if (!!id) {\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `id` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_6__[\"dbTblName\"].userAvatars);\n    rows = await core_db__WEBPACK_IMPORTED_MODULE_7__[\"default\"].query(sql, [id]);\n\n    if (rows.length > 0) {\n      row = rows[0];\n      let oldFilename = path__WEBPACK_IMPORTED_MODULE_4___default.a.join(fileDir, path__WEBPACK_IMPORTED_MODULE_4___default.a.basename(row[\"originUrl\"]));\n      !!file && fs__WEBPACK_IMPORTED_MODULE_5___default.a.unlink(oldFilename, e => {});\n      oldFilename = path__WEBPACK_IMPORTED_MODULE_4___default.a.join(fileDir, path__WEBPACK_IMPORTED_MODULE_4___default.a.basename(row[\"url\"]));\n      !!fileName2.length && fs__WEBPACK_IMPORTED_MODULE_5___default.a.unlink(oldFilename, e => {});\n    }\n  }\n\n  if (!fileName2.length) {\n    url = !!row ? row.url : \"\";\n  }\n\n  if (!fileName.length) {\n    originUrl = !!row ? row.originUrl : \"\";\n  }\n\n  const newRows = [[id, url, originUrl, scale, borderRadius, xPosition, yPosition, rotate]];\n  sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ? ON DUPLICATE KEY UPDATE `url` = VALUES(`url`), `originUrl` = VALUES(`originUrl`), `scale` = VALUES(`scale`), `borderRadius` = VALUES(`borderRadius`), `xPosition` = VALUES(`xPosition`), `yPosition` = VALUES(`yPosition`), `rotate` = VALUES(`rotate`);\", core_config__WEBPACK_IMPORTED_MODULE_6__[\"dbTblName\"].userAvatars);\n\n  try {\n    rows = await core_db__WEBPACK_IMPORTED_MODULE_7__[\"default\"].query(sql, [newRows]);\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullySaved,\n      data: rows\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst savePersonalInfo = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_8__[\"default\"][lang];\n  let {\n    id,\n    username,\n    firstName,\n    fatherName,\n    lastName\n  } = req.body;\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"UPDATE `%s` SET `username` = ?, `firstName` = ?, `fatherName` = ?, `lastName` = ? WHERE `id` = ?\", core_config__WEBPACK_IMPORTED_MODULE_6__[\"dbTblName\"].users);\n\n  try {\n    await core_db__WEBPACK_IMPORTED_MODULE_7__[\"default\"].query(sql, [username, firstName, fatherName, lastName, id]);\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT U.*, A.accountType FROM `%s` U LEFT JOIN `%s` A ON A.id = U.id WHERE U.id = ?;\", core_config__WEBPACK_IMPORTED_MODULE_6__[\"dbTblName\"].users, core_config__WEBPACK_IMPORTED_MODULE_6__[\"dbTblName\"].accountSettings);\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_7__[\"default\"].query(sql, [id]);\n\n    if (rows.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.invalidUser\n      });\n      return;\n    }\n\n    const user = rows[0];\n    const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.sign({\n      id: id,\n      email: user.email,\n      firstName: firstName,\n      fatherName: fatherName,\n      lastName: lastName\n    }, core_config__WEBPACK_IMPORTED_MODULE_6__[\"session\"].secret);\n    const accountType = user[\"accountType\"] || core_consts__WEBPACK_IMPORTED_MODULE_10__[\"accountTypes\"].WORK;\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullySaved,\n      data: {\n        user: { ...user,\n          accountType\n        },\n        account: {\n          type: accountType\n        },\n        token\n      }\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst changePasswordProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_8__[\"default\"][lang];\n  let {\n    id,\n    password0,\n    password\n  } = req.body;\n  const hash0 = core_myCrypto__WEBPACK_IMPORTED_MODULE_11__[\"default\"].hmacHex(password0 || \"\");\n  const hash = core_myCrypto__WEBPACK_IMPORTED_MODULE_11__[\"default\"].hmacHex(password || \"\");\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `id` = ? AND `hash` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_6__[\"dbTblName\"].users);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_7__[\"default\"].query(sql, [id, hash0]);\n\n    if (rows.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.currentPasswordIncorrect\n      });\n      return;\n    }\n\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"UPDATE `%s` SET `hash` = ? WHERE `id` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_6__[\"dbTblName\"].users);\n    await core_db__WEBPACK_IMPORTED_MODULE_7__[\"default\"].query(sql, [hash, id]);\n    res.status(200).send({\n      result: langs.success,\n      message: langs.passwordIsSuccessfullyChanged\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst changeAccountTypeProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_10__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_8__[\"default\"][lang];\n  let {\n    id,\n    type\n  } = req.body;\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"INSERT INTO `%s`(`id`, `accountType`) VALUES ? ON DUPLICATE KEY UPDATE `accountType` = VALUES(`accountType`);\", core_config__WEBPACK_IMPORTED_MODULE_6__[\"dbTblName\"].accountSettings);\n  let newRows = [[id, type]];\n\n  try {\n    await core_db__WEBPACK_IMPORTED_MODULE_7__[\"default\"].query(sql, [newRows]);\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT U.*, A.accountType FROM `%s` U LEFT JOIN `%s` A ON A.id = U.id WHERE U.id = ?;\", core_config__WEBPACK_IMPORTED_MODULE_6__[\"dbTblName\"].users, core_config__WEBPACK_IMPORTED_MODULE_6__[\"dbTblName\"].accountSettings);\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_7__[\"default\"].query(sql, [id]);\n\n    if (rows.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.invalidUser\n      });\n      return;\n    }\n\n    const user = rows[0];\n    const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.sign({\n      id: id,\n      email: user.email,\n      firstName: user.firstName,\n      fatherName: user.fatherName,\n      lastName: user.lastName\n    }, core_config__WEBPACK_IMPORTED_MODULE_6__[\"session\"].secret);\n    const accountType = user[\"accountType\"] || core_consts__WEBPACK_IMPORTED_MODULE_10__[\"accountTypes\"].WORK;\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullyChanged,\n      data: {\n        user: { ...user,\n          accountType\n        },\n        account: {\n          type: accountType\n        },\n        token\n      }\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_9__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst router = express__WEBPACK_IMPORTED_MODULE_0___default.a.Router();\nrouter.post(\"/avatar\", avatarProc);\nrouter.post(\"/save-avatar\", saveAvatarProc);\nrouter.post(\"/save-personal-info\", savePersonalInfo);\nrouter.post(\"/change-password\", changePasswordProc);\nrouter.post(\"/change-account-type\", changeAccountTypeProc);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);\n\n//# sourceURL=webpack:///./src/routes/api/account.js?");

/***/ }),

/***/ "./src/routes/api/auth.js":
/*!********************************!*\
  !*** ./src/routes/api/auth.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sprintf-js */ \"sprintf-js\");\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sprintf_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var dateformat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dateformat */ \"dateformat\");\n/* harmony import */ var dateformat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dateformat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n/* harmony import */ var core_db__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core/db */ \"./src/core/db.js\");\n/* harmony import */ var core_myCrypto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core/myCrypto */ \"./src/core/myCrypto.js\");\n/* harmony import */ var core_strings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core/strings */ \"./src/core/strings.js\");\n/* harmony import */ var core_tracer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core/tracer */ \"./src/core/tracer.js\");\n/* harmony import */ var core_consts__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core/consts */ \"./src/core/consts.js\");\n/* harmony import */ var core_mailer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core/mailer */ \"./src/core/mailer.js\");\n/* harmony import */ var core_fetch__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core/fetch */ \"./src/core/fetch.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst _validateToken = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_7__[\"default\"][lang];\n  const {\n    email,\n    token\n  } = req.body;\n  const today = new Date();\n  const timestamp = today.getTime();\n\n  try {\n    let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `email` = ? AND `token` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].resetPasswordTokens);\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [email, token]);\n\n    if (!rows.length) {\n      return core_consts__WEBPACK_IMPORTED_MODULE_9__[\"tokenStatus\"].NOT_FOUND;\n    }\n\n    const row = rows[0];\n\n    if (timestamp >= row.expire) {\n      return core_consts__WEBPACK_IMPORTED_MODULE_9__[\"tokenStatus\"].EXPIRED;\n    }\n\n    const used = core_myCrypto__WEBPACK_IMPORTED_MODULE_6__[\"default\"].hmacHex(`${row.timestamp}${row.token}${row.expire}`);\n\n    if (used !== row.used) {\n      return core_consts__WEBPACK_IMPORTED_MODULE_9__[\"tokenStatus\"].ALREADY_USED;\n    }\n\n    return core_consts__WEBPACK_IMPORTED_MODULE_9__[\"tokenStatus\"].VALID;\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst _validateGoogleAccount = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_7__[\"default\"][lang];\n  const {\n    googleId,\n    email,\n    id_token\n  } = req.body;\n  const url = \"https://www.googleapis.com/oauth2/v3/tokeninfo\";\n  const params = {\n    id_token\n  };\n\n  try {\n    const data = await Object(core_fetch__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(core_fetch__WEBPACK_IMPORTED_MODULE_11__[\"GET\"], url, params);\n    let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"SELECT U.*, A.accountType FROM `%s` U LEFT JOIN `%s` A ON A.id = U.id WHERE U.social = ? AND U.socialId = ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].users, core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].accountSettings);\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [core_consts__WEBPACK_IMPORTED_MODULE_9__[\"social\"].name.GOOGLE, data.sub]);\n    let registered = !!rows.length;\n    const invalidToken = data.sub !== googleId;\n    let result = { ...data,\n      registered,\n      invalidToken\n    };\n\n    if (!!registered) {\n      result = Object.assign({}, result, { ...rows[0],\n        accountType: rows[0][\"accountType\"] || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"accountTypes\"].WORK\n      });\n    }\n\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"SELECT U.*, A.accountType FROM `%s` U LEFT JOIN `%s` A ON A.id = U.id WHERE U.email = ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].users, core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].accountSettings);\n    rows = await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [data.email, core_consts__WEBPACK_IMPORTED_MODULE_9__[\"social\"].name.GOOGLE]);\n    registered = !!rows.length;\n    result = { ...result,\n      emailRegistered: registered\n    };\n    return result;\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst _validateFacebookAccount = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_7__[\"default\"][lang];\n  const {\n    socialId,\n    accessToken\n  } = req.body;\n  const url = \"https://graph.facebook.com/v2.3/me\";\n  const params = {\n    access_token: accessToken\n  };\n\n  try {\n    const data = await Object(core_fetch__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(core_fetch__WEBPACK_IMPORTED_MODULE_11__[\"GET\"], url, params);\n    let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"SELECT U.*, A.accountType FROM `%s` U LEFT JOIN `%s` A ON A.id = U.id WHERE U.social = ? AND U.socialId = ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].users, core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].accountSettings);\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [core_consts__WEBPACK_IMPORTED_MODULE_9__[\"social\"].name.FACEBOOK, socialId]);\n    let registered = !!rows.length;\n    const invalidToken = data.id !== socialId;\n    let result = { ...data,\n      registered,\n      invalidToken\n    };\n\n    if (!!registered) {\n      result = Object.assign({}, result, { ...rows[0],\n        accountType: rows[0][\"accountType\"] || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"accountTypes\"].WORK\n      });\n    }\n\n    return result;\n  } catch (err) {\n    throw err;\n  }\n};\n\nconst signInProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_7__[\"default\"][lang];\n  const {\n    email,\n    password\n  } = req.body;\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"SELECT `email` FROM `%s` WHERE `email` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].users);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [email]);\n\n    if (rows.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.emailIsNotRegistered\n      });\n      return;\n    }\n\n    const hash = core_myCrypto__WEBPACK_IMPORTED_MODULE_6__[\"default\"].hmacHex(password);\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"SELECT U.*, A.accountType FROM `%s` U LEFT JOIN `%s` A ON A.id = U.id WHERE U.email = ? AND BINARY U.hash = ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].users, core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].accountSettings);\n    rows = await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [email, hash]);\n\n    if (rows.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.passwordIsIncorrect\n      });\n      return;\n    }\n\n    const user = rows[0];\n\n    if (user.deletedDate.length > 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.yourAccountIsClosed\n      });\n      return;\n    }\n\n    if (user.allowedDate.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.yourAccountIsNotAllowed\n      });\n      return;\n    }\n\n    const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default.a.sign({\n      id: user[\"id\"],\n      email: user[\"email\"],\n      firstName: user[\"firstName\"],\n      fatherName: user[\"fatherName\"],\n      lastName: user[\"lastName\"]\n    }, core_config__WEBPACK_IMPORTED_MODULE_4__[\"session\"].secret);\n    const today = new Date();\n    const date = dateformat__WEBPACK_IMPORTED_MODULE_3___default()(today, \"yyyy-mm-dd\");\n    const time = dateformat__WEBPACK_IMPORTED_MODULE_3___default()(today, \"hh:MM TT\");\n    const timestamp = today.getTime();\n    const remoteAddress = req.header[\"x-forwarded-for\"] || req.connection.remoteAddress;\n    const newRows = [[null, user.id, timestamp, date, time, remoteAddress]];\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].usersSigninHistory);\n    await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [newRows]);\n    const accountType = user[\"accountType\"] || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"accountTypes\"].WORK;\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullySignedIn,\n      data: {\n        user: { ...user,\n          accountType\n        },\n        account: {\n          type: accountType\n        },\n        token\n      }\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst signUpProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_7__[\"default\"][lang];\n  const {\n    social,\n    socialId,\n    email,\n    password,\n    username,\n    firstName,\n    fatherName,\n    lastName,\n    countryCode,\n    phone\n  } = req.body;\n  const hash = core_myCrypto__WEBPACK_IMPORTED_MODULE_6__[\"default\"].hmacHex(!!social ? core_consts__WEBPACK_IMPORTED_MODULE_9__[\"auth\"].SOCIAL_SIGN_UP_PASSWORD : password);\n  const today = new Date();\n  const date = dateformat__WEBPACK_IMPORTED_MODULE_3___default()(today, \"yyyy-mm-dd\");\n  const timestamp = today.toISOString();\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"SELECT `email` FROM `%s` WHERE `email` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].users);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [email]);\n\n    if (rows.length > 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.emailAlreadyRegistered\n      });\n      return;\n    }\n\n    const newRows = [[null, social || \"\", socialId || \"\", email || \"\", hash, username, firstName, fatherName, lastName, countryCode, phone, \"\", \"\", date, date, \"\", \"\"]];\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].users);\n    await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [newRows]); // sendVerificationEmail(email);\n\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullyRegistered\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst validateGoogleAccountProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_7__[\"default\"][lang];\n\n  try {\n    const data = await _validateGoogleAccount(req, res, next);\n    const registered = data.registered;\n\n    if (registered) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.accountIsAlreadyRegistered,\n        data\n      });\n      return;\n    }\n\n    const emailRegistered = data.emailRegistered;\n\n    if (emailRegistered) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.emailAlreadyRegistered,\n        data\n      });\n      return;\n    }\n\n    if (data.invalidToken) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.tokenIsValid,\n        data\n      });\n      return;\n    } // tracer.info(data);\n\n\n    res.status(200).send({\n      result: langs.success,\n      data\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.accountIsInvalid,\n      err\n    });\n  }\n};\n\nconst signInWithGoogleProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_7__[\"default\"][lang];\n\n  try {\n    const user = await _validateGoogleAccount(req, res, next);\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].info(user);\n    const registered = user.registered;\n\n    if (!registered) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.accountIsNotRegistered,\n        user\n      });\n      return;\n    } // const emailRegistered = user.emailRegistered;\n    // if (!emailRegistered) {\n    //   res.status(200).send({\n    //     result: langs.error,\n    //     message: langs.emailIsNotRegistered,\n    //     user,\n    //   });\n    //   return;\n    // }\n\n\n    if (user.social !== core_consts__WEBPACK_IMPORTED_MODULE_9__[\"social\"].name.GOOGLE) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.yourAccountDoesNotSupportGoogleAuth,\n        user\n      });\n      return;\n    } //\n    // if (data.social !== social.name.GOOGLE) {\n    //   res.status(200).send({\n    //     result: langs.error,\n    //     message: langs.emailIsNotRegistered,\n    //     data,\n    //   });\n    //   return;\n    // }\n\n\n    if (user.deletedDate.length > 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.yourAccountIsClosed\n      });\n      return;\n    }\n\n    if (user.allowedDate.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.yourAccountIsNotAllowed\n      });\n      return;\n    }\n\n    const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default.a.sign({\n      id: user[\"id\"],\n      email: user[\"email\"],\n      firstName: user[\"firstName\"],\n      fatherName: user[\"fatherName\"],\n      lastName: user[\"lastName\"]\n    }, core_config__WEBPACK_IMPORTED_MODULE_4__[\"session\"].secret);\n    const today = new Date();\n    const date = dateformat__WEBPACK_IMPORTED_MODULE_3___default()(today, \"yyyy-mm-dd\");\n    const time = dateformat__WEBPACK_IMPORTED_MODULE_3___default()(today, \"hh:MM TT\");\n    const timestamp = today.getTime();\n    const remoteAddress = req.header[\"x-forwarded-for\"] || req.connection.remoteAddress;\n    const newRows = [[null, user.id, timestamp, date, time, remoteAddress]];\n    let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].usersSigninHistory);\n    await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [newRows]);\n    const accountType = user[\"accountType\"] || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"accountTypes\"].WORK;\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullySignedIn,\n      data: {\n        user: { ...user,\n          accountType\n        },\n        account: {\n          type: accountType\n        },\n        token\n      }\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.accountIsInvalid,\n      err\n    });\n  }\n};\n\nconst validateFacebookAccountProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_7__[\"default\"][lang];\n\n  try {\n    const data = await _validateFacebookAccount(req, res, next);\n    const registered = data.registered;\n\n    if (registered) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.accountIsAlreadyRegistered,\n        data\n      });\n      return;\n    } // const emailRegistered = data.emailRegistered;\n    // if (emailRegistered) {\n    //   res.status(200).send({\n    //     result: langs.error,\n    //     message: langs.emailAlreadyRegistered,\n    //     data,\n    //   });\n    //   return;\n    // }\n    // if (data.invalidToken) {\n    //   res.status(200).send({\n    //     result: langs.error,\n    //     message: langs.tokenIsValid,\n    //     data,\n    //   });\n    //   return;\n    // }\n    // tracer.info(data);\n\n\n    res.status(200).send({\n      result: langs.success,\n      data\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.accountIsInvalid,\n      err\n    });\n  }\n};\n\nconst signInWithFacebookProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_7__[\"default\"][lang];\n\n  try {\n    const user = await _validateFacebookAccount(req, res, next);\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].info(user);\n    const registered = user.registered;\n\n    if (!registered) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.accountIsNotRegistered,\n        user\n      });\n      return;\n    } // const emailRegistered = user.emailRegistered;\n    // if (!emailRegistered) {\n    //   res.status(200).send({\n    //     result: langs.error,\n    //     message: langs.emailIsNotRegistered,\n    //     user,\n    //   });\n    //   return;\n    // }\n\n\n    if (user.social !== core_consts__WEBPACK_IMPORTED_MODULE_9__[\"social\"].name.FACEBOOK) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.yourAccountDoesNotSupportFacebookAuth,\n        user\n      });\n      return;\n    } //\n    // if (data.social !== social.name.GOOGLE) {\n    //   res.status(200).send({\n    //     result: langs.error,\n    //     message: langs.emailIsNotRegistered,\n    //     data,\n    //   });\n    //   return;\n    // }\n\n\n    if (user.deletedDate.length > 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.yourAccountIsClosed\n      });\n      return;\n    }\n\n    if (user.allowedDate.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.yourAccountIsNotAllowed\n      });\n      return;\n    }\n\n    const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default.a.sign({\n      id: user[\"id\"],\n      email: user[\"email\"],\n      firstName: user[\"firstName\"],\n      fatherName: user[\"fatherName\"],\n      lastName: user[\"lastName\"]\n    }, core_config__WEBPACK_IMPORTED_MODULE_4__[\"session\"].secret);\n    const today = new Date();\n    const date = dateformat__WEBPACK_IMPORTED_MODULE_3___default()(today, \"yyyy-mm-dd\");\n    const time = dateformat__WEBPACK_IMPORTED_MODULE_3___default()(today, \"hh:MM TT\");\n    const timestamp = today.getTime();\n    const remoteAddress = req.header[\"x-forwarded-for\"] || req.connection.remoteAddress;\n    const newRows = [[null, user.id, timestamp, date, time, remoteAddress]];\n    let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].usersSigninHistory);\n    await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [newRows]);\n    const accountType = user[\"accountType\"] || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"accountTypes\"].WORK;\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullySignedIn,\n      data: {\n        user: { ...user,\n          accountType\n        },\n        account: {\n          type: accountType\n        },\n        token\n      }\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.accountIsInvalid,\n      err\n    });\n  }\n};\n\nconst sendForgotPasswordMailProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_7__[\"default\"][lang];\n  const {\n    email\n  } = req.body;\n  let today = new Date();\n  const timestamp = today.getTime();\n  today = new Date(timestamp + core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].tokenLifetime * 3600 * 1000);\n  const expire = today.getTime();\n  const token = core_myCrypto__WEBPACK_IMPORTED_MODULE_6__[\"default\"].hmacHex(`${email}${timestamp}`);\n  const used = core_myCrypto__WEBPACK_IMPORTED_MODULE_6__[\"default\"].hmacHex(`${timestamp}${token}${expire}`);\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `email` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].users);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [email]);\n\n    if (!rows.length) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.emailIsNotRegistered\n      });\n      return;\n    }\n\n    const user = rows[0];\n    const name = `${user.firstName} ${user.lastName}`;\n    const url = `${core_config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].server.baseUrl}${core_consts__WEBPACK_IMPORTED_MODULE_9__[\"resetPasswordUri\"]}/${email}/${token}`;\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].info(token);\n    await core_mailer__WEBPACK_IMPORTED_MODULE_10__[\"default\"].sendForgotPasswordMail({\n      email,\n      name,\n      url,\n      subject: langs.forgotPassword\n    });\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ? ON DUPLICATE KEY UPDATE `timestamp` = VALUES(`timestamp`), `token` = VALUES(`token`), `expire` = VALUES(`expire`), `used` = VALUES(`used`);\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].resetPasswordTokens);\n    const newRows = [[email, timestamp, token, expire, used]];\n    await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [newRows]);\n    res.status(200).send({\n      result: langs.success,\n      message: langs.resetEmailIsSent\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst validateTokenProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_7__[\"default\"][lang];\n\n  try {\n    const result = await _validateToken(req, res, next);\n\n    switch (result) {\n      case core_consts__WEBPACK_IMPORTED_MODULE_9__[\"tokenStatus\"].VALID:\n        res.status(200).send({\n          result: langs.success,\n          message: langs.tokenIsValid\n        });\n        break;\n\n      case core_consts__WEBPACK_IMPORTED_MODULE_9__[\"tokenStatus\"].EXPIRED:\n        res.status(200).send({\n          result: langs.error,\n          message: langs.tokenIsExpired\n        });\n        break;\n\n      case core_consts__WEBPACK_IMPORTED_MODULE_9__[\"tokenStatus\"].NOT_FOUND:\n        res.status(200).send({\n          result: langs.error,\n          message: langs.tokenIsNotFound\n        });\n        break;\n\n      case core_consts__WEBPACK_IMPORTED_MODULE_9__[\"tokenStatus\"].ALREADY_USED:\n        res.status(200).send({\n          result: langs.error,\n          message: langs.tokenIsAlreadyUsed\n        });\n        break;\n    }\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst resetPasswordProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_9__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_7__[\"default\"][lang];\n  const {\n    email,\n    password\n  } = req.body;\n\n  try {\n    const result = await _validateToken(req, res, next);\n\n    switch (result) {\n      case core_consts__WEBPACK_IMPORTED_MODULE_9__[\"tokenStatus\"].EXPIRED:\n        res.status(200).send({\n          result: langs.error,\n          message: langs.tokenIsExpired\n        });\n        return;\n\n      case core_consts__WEBPACK_IMPORTED_MODULE_9__[\"tokenStatus\"].NOT_FOUND:\n        res.status(200).send({\n          result: langs.error,\n          message: langs.tokenIsNotFound\n        });\n        return;\n\n      case core_consts__WEBPACK_IMPORTED_MODULE_9__[\"tokenStatus\"].ALREADY_USED:\n        res.status(200).send({\n          result: langs.error,\n          message: langs.tokenIsAlreadyUsed\n        });\n        return;\n    }\n\n    const hash = core_myCrypto__WEBPACK_IMPORTED_MODULE_6__[\"default\"].hmacHex(password);\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].info(password, hash);\n    let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"UPDATE `%s` SET `used` = ? WHERE `email` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].resetPasswordTokens);\n    await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [1, email]);\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_2__[\"sprintf\"])(\"UPDATE `%s` SET `hash` = ? WHERE `email` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_4__[\"dbTblName\"].users);\n    await core_db__WEBPACK_IMPORTED_MODULE_5__[\"default\"].query(sql, [hash, email]);\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullyChanged\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_8__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst router = express__WEBPACK_IMPORTED_MODULE_0___default.a.Router();\nrouter.post(\"/sign-in\", signInProc);\nrouter.post(\"/sign-up\", signUpProc);\nrouter.post(\"/validate-google-account\", validateGoogleAccountProc);\nrouter.post(\"/sign-in-with-google\", signInWithGoogleProc);\nrouter.post(\"/validate-facebook-account\", validateFacebookAccountProc);\nrouter.post(\"/sign-in-with-facebook\", signInWithFacebookProc);\nrouter.post(\"/send-forgot-password-mail\", sendForgotPasswordMailProc);\nrouter.post(\"/validate-token\", validateTokenProc);\nrouter.post(\"/reset-password\", resetPasswordProc);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);\n\n//# sourceURL=webpack:///./src/routes/api/auth.js?");

/***/ }),

/***/ "./src/routes/api/profile.js":
/*!***********************************!*\
  !*** ./src/routes/api/profile.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sprintf-js */ \"sprintf-js\");\n/* harmony import */ var sprintf_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sprintf_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var dateformat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dateformat */ \"dateformat\");\n/* harmony import */ var dateformat__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dateformat__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var mkdirp__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! mkdirp */ \"mkdirp\");\n/* harmony import */ var mkdirp__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(mkdirp__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core/config */ \"./src/core/config.js\");\n/* harmony import */ var core_db__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core/db */ \"./src/core/db.js\");\n/* harmony import */ var core_strings__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core/strings */ \"./src/core/strings.js\");\n/* harmony import */ var core_tracer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core/tracer */ \"./src/core/tracer.js\");\n/* harmony import */ var core_consts__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core/consts */ \"./src/core/consts.js\");\n/* harmony import */ var core_myCrypto__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core/myCrypto */ \"./src/core/myCrypto.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst avatarProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_12__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_12__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_10__[\"default\"][lang];\n  const {\n    userId\n  } = req.body;\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `userId` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_8__[\"dbTblName\"].user_avatar);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_9__[\"default\"].query(sql, [userId]);\n\n    if (!!rows.length) {\n      res.status(200).send({\n        result: langs.success,\n        data: rows[0][\"avatar\"]\n      });\n    } else {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.notFound\n      });\n    }\n  } catch (err) {\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError\n    });\n  }\n};\n\nconst saveAvatarProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_12__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_12__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_10__[\"default\"][lang];\n  const {\n    userId,\n    file\n  } = req.body;\n  const today = new Date();\n  const date = dateformat__WEBPACK_IMPORTED_MODULE_3___default()(today, \"yyyy-mm-dd\"); // const time = dateformat(today, \"hh:MM TT\");\n  // const timestamp = today.getTime();\n\n  const appDir = process.cwd();\n  const fileDir = path__WEBPACK_IMPORTED_MODULE_4___default.a.join(appDir, \"public\", core_consts__WEBPACK_IMPORTED_MODULE_12__[\"default\"].uploadPath.avatars);\n  const fileName = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s%s\", uuid__WEBPACK_IMPORTED_MODULE_5___default()(), path__WEBPACK_IMPORTED_MODULE_4___default.a.extname(file.path));\n  const filePath = path__WEBPACK_IMPORTED_MODULE_4___default.a.join(fileDir, fileName);\n  const writable = fs__WEBPACK_IMPORTED_MODULE_6___default.a.createWriteStream(filePath);\n  const media = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"%s/%s\", core_consts__WEBPACK_IMPORTED_MODULE_12__[\"default\"].uploadPath.avatars, fileName);\n  mkdirp__WEBPACK_IMPORTED_MODULE_7___default()(fileDir, () => {\n    file.on(\"end\", async e => {\n      const newRows = [[userId, media, date]];\n      let sql;\n      let rows;\n\n      if (userId) {\n        sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `userId` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_8__[\"dbTblName\"].user_avatar);\n        rows = await core_db__WEBPACK_IMPORTED_MODULE_9__[\"default\"].query(sql, [userId]);\n\n        if (rows.length > 0) {\n          const oldFilename = path__WEBPACK_IMPORTED_MODULE_4___default.a.join(fileDir, path__WEBPACK_IMPORTED_MODULE_4___default.a.basename(rows[0][\"avatar\"]));\n          core_tracer__WEBPACK_IMPORTED_MODULE_11__[\"default\"].debug(oldFilename);\n          fs__WEBPACK_IMPORTED_MODULE_6___default.a.unlink(oldFilename, e => {});\n        }\n      }\n\n      sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ? ON DUPLICATE KEY UPDATE `avatar` = VALUES(`avatar`), `updatedDate` = VALUES(`updatedDate`);\", core_config__WEBPACK_IMPORTED_MODULE_8__[\"dbTblName\"].user_avatar);\n\n      try {\n        rows = await core_db__WEBPACK_IMPORTED_MODULE_9__[\"default\"].query(sql, [newRows]);\n        res.status(200).send({\n          result: langs.success,\n          message: langs.successfullySaved,\n          data: rows\n        });\n      } catch (err) {\n        core_tracer__WEBPACK_IMPORTED_MODULE_11__[\"default\"].error(JSON.stringify(err));\n        core_tracer__WEBPACK_IMPORTED_MODULE_11__[\"default\"].error(__filename);\n        res.status(200).send({\n          result: langs.error,\n          message: langs.unknownServerError,\n          err\n        });\n      }\n    });\n    file.on(\"error\", err => {\n      core_tracer__WEBPACK_IMPORTED_MODULE_11__[\"default\"].error(JSON.stringify(err));\n      core_tracer__WEBPACK_IMPORTED_MODULE_11__[\"default\"].error(__filename);\n      res.status(200).send({\n        result: langs.error,\n        message: langs.unknownServerError,\n        err\n      });\n    });\n    file.pipe(writable);\n  });\n};\n\nconst saveProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_12__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_12__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_10__[\"default\"][lang];\n  let {\n    id,\n    email,\n    username,\n    firstName,\n    fatherName,\n    lastName,\n    gender,\n    birthday,\n    jobTitle,\n    sector,\n    company,\n    city,\n    countryCode,\n    phone\n  } = req.body;\n  const today = new Date();\n  const date = dateformat__WEBPACK_IMPORTED_MODULE_3___default()(today, \"yyyy-mm-dd\");\n  const newRows = [[id, email, \"\", username, firstName, fatherName, lastName, gender, birthday, jobTitle, sector, company, city, countryCode, phone, 0, 0, date, date, \"\", \"\"]];\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"INSERT INTO `%s` VALUES ? ON DUPLICATE KEY UPDATE `email` = VALUES(`email`), `username` = VALUES(`username`), `firstName` = VALUES(`firstName`), `fatherName` = VALUES(`fatherName`), `lastName` = VALUES(`lastName`), `gender` = VALUES(`gender`), `birthday` = VALUES(`birthday`), `jobTitle` = VALUES(`jobTitle`), `sector` = VALUES(`sector`), `company` = VALUES(`company`), `city` = VALUES(`city`), `countryCode` = VALUES(`countryCode`), `phone` = VALUES(`phone`);\", core_config__WEBPACK_IMPORTED_MODULE_8__[\"dbTblName\"].users);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_9__[\"default\"].query(sql, [newRows]);\n    const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.sign({\n      id: id,\n      email: email,\n      firstName: firstName,\n      lastName: lastName\n    }, core_config__WEBPACK_IMPORTED_MODULE_8__[\"session\"].secret);\n    res.status(200).send({\n      result: langs.success,\n      message: langs.successfullySaved,\n      data: {\n        user: {\n          id,\n          email,\n          username,\n          firstName,\n          fatherName,\n          lastName,\n          gender,\n          birthday,\n          jobTitle,\n          sector,\n          company,\n          city,\n          countryCode,\n          phone\n        },\n        token\n      }\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_11__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_11__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst changePasswordProc = async (req, res, next) => {\n  const lang = req.get(core_consts__WEBPACK_IMPORTED_MODULE_12__[\"default\"].lang) || core_consts__WEBPACK_IMPORTED_MODULE_12__[\"default\"].defaultLanguage;\n  const langs = core_strings__WEBPACK_IMPORTED_MODULE_10__[\"default\"][lang];\n  let {\n    id,\n    password0,\n    password\n  } = req.body;\n  const hash0 = core_myCrypto__WEBPACK_IMPORTED_MODULE_13__[\"default\"].hmacHex(password0 || \"\");\n  const hash = core_myCrypto__WEBPACK_IMPORTED_MODULE_13__[\"default\"].hmacHex(password || \"\");\n  let sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"SELECT * FROM `%s` WHERE `id` = ? AND `hash` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_8__[\"dbTblName\"].users);\n\n  try {\n    let rows = await core_db__WEBPACK_IMPORTED_MODULE_9__[\"default\"].query(sql, [id, hash0]);\n\n    if (rows.length === 0) {\n      res.status(200).send({\n        result: langs.error,\n        message: langs.currentPasswordIncorrect\n      });\n      return;\n    }\n\n    sql = Object(sprintf_js__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(\"UPDATE `%s` SET `hash` = ? WHERE `id` = ?;\", core_config__WEBPACK_IMPORTED_MODULE_8__[\"dbTblName\"].users);\n    await core_db__WEBPACK_IMPORTED_MODULE_9__[\"default\"].query(sql, [hash, id]);\n    res.status(200).send({\n      result: langs.success,\n      message: langs.passwordIsSuccessfullyChanged\n    });\n  } catch (err) {\n    core_tracer__WEBPACK_IMPORTED_MODULE_11__[\"default\"].error(JSON.stringify(err));\n    core_tracer__WEBPACK_IMPORTED_MODULE_11__[\"default\"].error(__filename);\n    res.status(200).send({\n      result: langs.error,\n      message: langs.unknownServerError,\n      err\n    });\n  }\n};\n\nconst router = express__WEBPACK_IMPORTED_MODULE_0___default.a.Router();\nrouter.post(\"/avatar\", avatarProc);\nrouter.post(\"/save-avatar\", saveAvatarProc);\nrouter.post(\"/save\", saveProc);\nrouter.post(\"/change-password\", changePasswordProc);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);\n\n//# sourceURL=webpack:///./src/routes/api/profile.js?");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"axios\");\n\n//# sourceURL=webpack:///external_%22axios%22?");

/***/ }),

/***/ "cluster":
/*!**************************!*\
  !*** external "cluster" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"cluster\");\n\n//# sourceURL=webpack:///external_%22cluster%22?");

/***/ }),

/***/ "cookie-parser":
/*!********************************!*\
  !*** external "cookie-parser" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"cookie-parser\");\n\n//# sourceURL=webpack:///external_%22cookie-parser%22?");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"cors\");\n\n//# sourceURL=webpack:///external_%22cors%22?");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"crypto\");\n\n//# sourceURL=webpack:///external_%22crypto%22?");

/***/ }),

/***/ "dateformat":
/*!*****************************!*\
  !*** external "dateformat" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dateformat\");\n\n//# sourceURL=webpack:///external_%22dateformat%22?");

/***/ }),

/***/ "ddos":
/*!***********************!*\
  !*** external "ddos" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"ddos\");\n\n//# sourceURL=webpack:///external_%22ddos%22?");

/***/ }),

/***/ "debug":
/*!************************!*\
  !*** external "debug" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"debug\");\n\n//# sourceURL=webpack:///external_%22debug%22?");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dotenv\");\n\n//# sourceURL=webpack:///external_%22dotenv%22?");

/***/ }),

/***/ "email-templates":
/*!**********************************!*\
  !*** external "email-templates" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"email-templates\");\n\n//# sourceURL=webpack:///external_%22email-templates%22?");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"express\");\n\n//# sourceURL=webpack:///external_%22express%22?");

/***/ }),

/***/ "express-form-data":
/*!************************************!*\
  !*** external "express-form-data" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"express-form-data\");\n\n//# sourceURL=webpack:///external_%22express-form-data%22?");

/***/ }),

/***/ "express-jwt":
/*!******************************!*\
  !*** external "express-jwt" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"express-jwt\");\n\n//# sourceURL=webpack:///external_%22express-jwt%22?");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");\n\n//# sourceURL=webpack:///external_%22fs%22?");

/***/ }),

/***/ "helmet":
/*!*************************!*\
  !*** external "helmet" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"helmet\");\n\n//# sourceURL=webpack:///external_%22helmet%22?");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"http\");\n\n//# sourceURL=webpack:///external_%22http%22?");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"https\");\n\n//# sourceURL=webpack:///external_%22https%22?");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");\n\n//# sourceURL=webpack:///external_%22jsonwebtoken%22?");

/***/ }),

/***/ "mkdirp":
/*!*************************!*\
  !*** external "mkdirp" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mkdirp\");\n\n//# sourceURL=webpack:///external_%22mkdirp%22?");

/***/ }),

/***/ "morgan":
/*!*************************!*\
  !*** external "morgan" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"morgan\");\n\n//# sourceURL=webpack:///external_%22morgan%22?");

/***/ }),

/***/ "mysql2":
/*!*************************!*\
  !*** external "mysql2" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mysql2\");\n\n//# sourceURL=webpack:///external_%22mysql2%22?");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"nodemailer\");\n\n//# sourceURL=webpack:///external_%22nodemailer%22?");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"os\");\n\n//# sourceURL=webpack:///external_%22os%22?");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");\n\n//# sourceURL=webpack:///external_%22path%22?");

/***/ }),

/***/ "sprintf-js":
/*!*****************************!*\
  !*** external "sprintf-js" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"sprintf-js\");\n\n//# sourceURL=webpack:///external_%22sprintf-js%22?");

/***/ }),

/***/ "tracer":
/*!*************************!*\
  !*** external "tracer" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"tracer\");\n\n//# sourceURL=webpack:///external_%22tracer%22?");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"uuid\");\n\n//# sourceURL=webpack:///external_%22uuid%22?");

/***/ })

/******/ });