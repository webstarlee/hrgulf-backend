(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{421:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(1);var o=n(56),r=n(11),a=(Object(o.b)({enter:"zoomIn",exit:"zoomOut",duration:r.j.TRANSITION_TIME}),Object(o.b)({enter:"fadeIn",exit:"fadeOut",duration:r.j.TRANSITION_TIME}));t.b=o.c},427:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:this,function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.2",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(err){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,o=e.length;n<o;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)?e.toString("base64"):btoa(utob(String(e)))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(e)},encodeURI=function(e){return encode(e,!0)},re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,o=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),r=[fromCharCode(o>>>16),fromCharCode(o>>>8&255),fromCharCode(255&o)];return r.length-=[0,0,2,1][n],r.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"===typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}})}).call(this,__webpack_require__(49))},447:function(e,t,n){"use strict";var o=n(23),r=n(26),a=n(22);t.a={list:function(e){return new Promise(function(t,n){Object(o.a)(r.d,a.a.hire.workplace.questionnaire.list,e).then(function(e){t(e)},function(e){n(e)})})},save:function(e){return new Promise(function(t,n){Object(o.a)(r.d,a.a.hire.workplace.questionnaire.save,e).then(function(e){t(e)},function(e){n(e)})})},get:function(e){return new Promise(function(t,n){Object(o.a)(r.d,a.a.hire.workplace.questionnaire.get,e).then(function(e){t(e)},function(e){n(e)})})},delete:function(e){return new Promise(function(t,n){Object(o.a)(r.d,a.a.hire.workplace.questionnaire.delete,e).then(function(e){t(e)},function(e){n(e)})})},listQuestions:function(e){return new Promise(function(t,n){Object(o.a)(r.d,a.a.hire.workplace.questionnaire.listQuestions,e).then(function(e){t(e)},function(e){n(e)})})},saveQuestion:function(e){return new Promise(function(t,n){Object(o.a)(r.d,a.a.hire.workplace.questionnaire.saveQuestion,e).then(function(e){t(e)},function(e){n(e)})})},getQuestion:function(e){return new Promise(function(t,n){Object(o.a)(r.d,a.a.hire.workplace.questionnaire.getQuestion,e).then(function(e){t(e)},function(e){n(e)})})},deleteQuestion:function(e){return new Promise(function(t,n){Object(o.a)(r.d,a.a.hire.workplace.questionnaire.deleteQuestion,e).then(function(e){t(e)},function(e){n(e)})})}}},461:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(1);function o(){window.history.back()}},721:function(e,t,n){"use strict";n.r(t);var o=n(35),r=n(30),a=n(1),c=n.n(a),u=n(43),i=n(29),s=n(3),l=n(25),f=n(73),d=n(425),b=n(418),E=n(427),m=n(430),h=n(24),_=n(432),O=n(11),C=n(5),g=n(123),A=n(421),p=n(461),I=n(447);n(722);t.default=function(){var e,t=Object(u.h)().params,n=Object(l.b)().t,S=Object(u.g)(),N=(Object(h.c)(function(e){return e}).auth.user,Object(a.useState)(!1)),R=Object(r.a)(N,2),T=R[0],B=R[1],j=Object(a.useState)({}),w=Object(r.a)(j,2),v=w[0],D=w[1],q=Object(a.useState)({}),U=Object(r.a)(q,2),x=U[0],M=U[1],y=Object(a.useState)(),P=Object(r.a)(y,2),F=P[0],Q=P[1],k=n("HIRE.WORKPLACE.QUESTIONNAIRE.QUESTIONS.ADD.".concat(F?"EDIT":"ADD","_QUESTION")),K="".concat(C.a.hire.workplace.questionnaire.all,"/").concat(x.page||1),W="".concat(C.a.hire.workplace.questionnaire.questions,"/").concat(E.Base64.encode(JSON.stringify(Object(o.a)({},x,{id:x.questionnaireId})))),L="".concat(C.a.hire.workplace.questionnaire.addQuestion,"/").concat(E.Base64.encode(JSON.stringify({questionnaireId:x.questionnaireId,page:x.page,page2:x.page2}))),V=_.b().shape({question:_.d().required(n("COMMON.VALIDATION.REQUIRED",{field:n("HIRE.WORKPLACE.QUESTIONNAIRE.QUESTIONS.FIELDS.QUESTION")}))});Object(a.useEffect)(function(e){f.animateScroll.scrollToTop({duration:O.j.TRANSITION_TIME})},[]),Object(a.useMemo)(function(e){if(t)try{var n=E.Base64.decode(t),o=JSON.parse(n);M(o)}catch(e){}},[t,n]),Object(a.useMemo)(function(t){x.id&&(B(!0),I.a.getQuestion({id:x.id}).then(function(t){if(t.result===O.s.SUCCESS){var n=t.data;Q(x.id);var o=n.question;e&&e.setValues({question:o}),D({})}else D({show:!0,color:O.b.DANGER,message:t.message});B(!1)}).catch(function(e){D({show:!0,color:O.b.DANGER,message:n("COMMON.ERROR.UNKNOWN_SERVER_ERROR")}),B(!1)}))},[x.id]);var z=e=Object(m.b)({initialValues:{question:""},validationSchema:V,onSubmit:function(e,t){var o=t.setSubmitting,r=e.question,a={id:F,questionnaireId:x.questionnaireId,question:r};o(!0),I.a.saveQuestion(a).then(function(e){e.result===O.s.SUCCESS?(A.b.success(e.message),!F&&Q(e.data.insertId)):A.b.error(e.message),o(!1)}).catch(function(e){A.b.error(n("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),o(!1)})}}),H=z.values,J=z.touched,Y=z.errors,G=z.setValues,Z=z.setTouched,X=z.setErrors,$=z.handleChange,ee=z.handleBlur,te=z.isSubmitting;return c.a.createElement(a.Fragment,null,c.a.createElement(d.Helmet,null,c.a.createElement("title",null,k," - ",n("SITE_NAME"))),c.a.createElement(s.e,null,c.a.createElement(s.f,null,n("NAVBAR.HIRE.WORKPLACE.ROOT")),c.a.createElement(s.f,null,c.a.createElement(i.b,{to:K},n("NAVBAR.HIRE.WORKPLACE.QUESTIONNAIRE"))),c.a.createElement(s.f,null,c.a.createElement(i.b,{to:W},n("HIRE.WORKPLACE.QUESTIONNAIRE.QUESTIONS.QUESTIONS"))),c.a.createElement(s.f,{active:!0},k)),c.a.createElement(s.S,null,v.show&&c.a.createElement(s.o,{md:"12"},c.a.createElement(b.a,{in:v.show,classNames:"fade-transition",timeout:O.j.TRANSITION_TIME,unmountOnExit:!0,appear:!0},c.a.createElement(s.b,{color:v.color,dismiss:!0,onClosed:function(){return D({})}},v.message))),c.a.createElement(s.o,{md:"12"},c.a.createElement(s.h,null,c.a.createElement(s.i,null,!!T&&c.a.createElement(g.a,null),!T&&c.a.createElement(a.Fragment,null,c.a.createElement("form",{className:"mx-md-4 mx-sm-1 text-left",onSubmit:e.handleSubmit},c.a.createElement(s.S,null,c.a.createElement(s.o,{md:"12"},c.a.createElement(s.A,{id:"question",name:"question",label:n("HIRE.WORKPLACE.QUESTIONNAIRE.QUESTIONS.FIELDS.QUESTION"),background:!0,containerClass:"mb-0",value:H.question,onChange:$,onBlur:ee},!!J.question&&!!Y.question&&c.a.createElement("div",{className:"text-left invalid-field"},Y.question)))),c.a.createElement("div",{className:"mt-4 mb-3"},c.a.createElement(s.g,{type:"submit",color:"primary",size:"sm",rounded:!0,disabled:!!T||!!te||!!Y&&!!Object.keys(Y).length},n("COMMON.BUTTON.".concat(F?"EDIT":"ADD"))),c.a.createElement(s.g,{type:"button",color:"indigo",size:"sm",rounded:!0,onClick:function(e){return function(e){var t=e.setValues,n=e.setTouched,o=e.setErrors;t({question:""}),n({}),o({}),D({}),Q(void 0),S.location.pathname!==L&&S.push(L)}({setValues:G,setTouched:Z,setErrors:X})}},n("COMMON.BUTTON.NEW")),c.a.createElement(s.g,{type:"button",color:"warning",size:"sm",rounded:!0,onClick:p.a},n("COMMON.BUTTON.BACK"))))))))),c.a.createElement(s.fb,{className:"text-left",position:"ltr"===n("DIRECTION")?"top-right":"top-left",dir:n("DIRECTION"),hideProgressBar:!0,autoClose:O.j.TRANSITION_TIME5,closeButton:!1,transition:A.a}))}},722:function(e,t,n){}}]);