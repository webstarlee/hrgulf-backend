(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{423:function(e,t,a){"use strict";a.d(t,"a",function(){return l});a(1);var n=a(56),r=a(11),l=(Object(n.b)({enter:"zoomIn",exit:"zoomOut",duration:r.j.TRANSITION_TIME}),Object(n.b)({enter:"fadeIn",exit:"fadeOut",duration:r.j.TRANSITION_TIME}));t.b=n.c},424:function(e,t,a){"use strict";var n=a(438),r=a.n(n);t.a={isEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},isUsername:function(e){return/^[0-9a-zA-Z_][0-9a-zA-Z_.-]+$/.test(String(e).toLowerCase())},isPhoneNumber:function(e){var t=r.a.PhoneNumberUtil.getInstance();try{var a=t.parseAndKeepRawInput(e);return t.isValidNumber(a)}catch(n){return!1}},isURL:function(e){return e.startsWith("http://")||e.startsWith("https://")}}},441:function(e,t,a){"use strict";t.a={triggerChangeEvent:function(e,t){var a=document.getElementById(e);if(a){var n=a.value;a.value=t;var r=new Event("input",{bubbles:!0}),l=a._valueTracker;l&&l.setValue(n),a.dispatchEvent(r)}}}},581:function(e,t,a){"use strict";a.r(t);var n=a(36),r=a(30),l=a(1),c=a.n(l),s=a(25),i=a(3),o=a(43),m=a(73),N=a(425),u=a(434),A=a(437),E=a(24),d=a(440),O=a(487),I=a.n(O),f=a(417),T=a(50),C=a(423),R=a(441),M=a(11),U=a(424),S=a(51),h=a(74);a(582);t.default=function(e){var t=Object(E.b)(),a=Object(o.h)(),O=a.cipher,b=a.checksum,g=Object(s.b)().t,_=Object(l.useState)(!1),v=Object(r.a)(_,2),p=v[0],D=v[1],H=Object(l.useState)(!0),L=Object(r.a)(H,2),V=L[0],w=L[1],y=Object(l.useState)({}),x=Object(r.a)(y,2),G=x[0],j=x[1],B=I()(O),k="",P="",W="",Q="",q="";if(B===b){var z=d.Base64.decode(O.replace(/@/,"/")),K=JSON.parse(z);k=K.googleId,P=K.email,W=K.firstName,Q=K.lastName,q=K.id_token}var F={email:P,username:M.r.IS_DEV?M.h.USERNAME:"",firstName:W,fatherName:M.r.IS_DEV?M.h.FATHER_NAME:"",lastName:Q,countryCode:M.r.IS_DEV?M.f.SAUDI_ARABIA:"",phone:M.r.IS_DEV?M.h.PHONE:"",password:"",password2:""},Z=A.a().shape({email:A.c().required(g("COMMON.VALIDATION.REQUIRED",{field:g("AUTH.EMAIL")})).email(g("COMMON.VALIDATION.INVALID",{field:g("AUTH.EMAIL")})),username:A.c().required(g("COMMON.VALIDATION.REQUIRED",{field:g("AUTH.USERNAME")})).max(M.c.USERNAME_MAX_LENGTH,g("COMMON.VALIDATION.MAX_LENGTH",{field:g("AUTH.USERNAME"),length:g("COMMON.CARDINALS.".concat(M.c.USERNAME_MAX_LENGTH))})).test("isUsername",g("COMMON.VALIDATION.INVALID",{field:g("AUTH.USERNAME")}),U.a.isUsername),firstName:A.c().required(g("COMMON.VALIDATION.REQUIRED",{field:g("AUTH.FIRST_NAME")})),fatherName:A.c().required(g("COMMON.VALIDATION.REQUIRED",{field:g("AUTH.FATHER_NAME")})),lastName:A.c().required(g("COMMON.VALIDATION.REQUIRED",{field:g("AUTH.LAST_NAME")})),countryCode:A.c().required(g("COMMON.VALIDATION.REQUIRED",{field:g("AUTH.COUNTRY_CODE")})),phone:A.c().required(g("COMMON.VALIDATION.REQUIRED",{field:g("AUTH.PHONE")})).test("isPhoneNumber",g("COMMON.VALIDATION.INVALID",{field:g("AUTH.PHONE")}),function(e){return U.a.isPhoneNumber("".concat(this.parent.countryCode).concat(e))}),password:A.c().required(g("COMMON.VALIDATION.REQUIRED",{field:g("AUTH.PASSWORD")})).min(M.c.PASSWORD_MIN_LENGTH,g("COMMON.VALIDATION.MIN_LENGTH",{field:g("AUTH.PASSWORD"),length:g("COMMON.CARDINALS.".concat(M.c.PASSWORD_MIN_LENGTH))})),password2:A.c().required(g("COMMON.VALIDATION.REQUIRED",{field:g("AUTH.PASSWORD2")})).oneOf([A.b("password"),null],g("COMMON.VALIDATION.MISMATCH",{field:g("AUTH.PASSWORD")}))}),J=function(e,a){var r=a.setSubmitting;e=Object(n.a)({},e,{social:M.u.NAME.GOOGLE,socialId:k}),t(T.a.requestSignUp(e)),r(!0),S.a.signUp(e).then(function(e){e.result===M.s.SUCCESS?(t(T.a.successSignUp(e.data)),C.b.success(e.message),r(!1)):(t(T.a.failureSignUp(e.message)),C.b.error(e.message),r(!1))}).catch(function(e){t(T.a.failureSignUp(M.k.UNKNOWN_SERVER_ERROR)),C.b.error(g("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),r(!1)})};Object(l.useEffect)(function(){m.animateScroll.scrollToTop({duration:M.j.TRANSITION_TIME}),function(){if(I()(O)!==b)return w(!0),void j({show:!0,color:"danger",message:g("AUTH.ERROR.ACCOUNT_IS_INVALID")});D(!0);var e={googleId:k,email:P,firstName:W,lastName:Q,id_token:q};S.a.validateGoogleAccount(e).then(function(e){D(!1),e.result===M.s.SUCCESS?w(!1):(w(!0),j({show:!0,color:e.result,message:e.message}))}).catch(function(e){D(!1),w(!0),j({show:!0,color:"danger",message:g("COMMON.ERROR.UNKNOWN_SERVER_ERROR")})})}()},[e]),Object(l.useMemo)(function(e){},[g]);return c.a.createElement(l.Fragment,null,c.a.createElement(N.Helmet,null,c.a.createElement("title",null,g("AUTH.SIGN_UP_GOOGLE")," - ",g("SITE_NAME"))),c.a.createElement("div",{className:"admin-nav text-center"},c.a.createElement("img",{className:"logo-img mt-3 mb-5",src:h.a.logo.logo100})),c.a.createElement(i.h,{className:"auth-bg"},c.a.createElement(i.i,{className:"mx-md-4 mx-sm-1"},c.a.createElement(i.S,{className:"text-center"},c.a.createElement(i.o,{className:"col-12 underlined white-border"},c.a.createElement("p",{className:"text-white h5"},g("AUTH.SIGN_UP_GOOGLE")))),c.a.createElement(u.a,{initialValues:F,validationSchema:Z,onSubmit:J},function(e){var t=e.values,a=e.errors,n=e.touched,r=e.handleChange,l=e.handleSubmit,s=e.handleBlur,o=e.isSubmitting;return c.a.createElement("form",{onSubmit:l},c.a.createElement("input",{hidden:!0,id:"countryCode",name:"countryCode",onChange:r,onBlur:s}),c.a.createElement("div",{className:"white-text"},c.a.createElement(i.S,null,c.a.createElement(i.o,{md:"6"},c.a.createElement(i.A,{id:"username",name:"username",type:"text",label:g("AUTH.USERNAME"),background:!0,containerClass:"mb-0",value:t.username,onChange:r,onBlur:s},!!n.username&&!!a.username&&c.a.createElement("div",{className:"text-left invalid-field2"},a.username))),c.a.createElement(i.o,{md:"6"},c.a.createElement(i.A,{id:"firstName",name:"firstName",type:"text",label:g("AUTH.FIRST_NAME"),background:!0,containerClass:"mb-0",value:t.firstName,onChange:r,onBlur:s},!!n.firstName&&!!a.firstName&&c.a.createElement("div",{className:"text-left invalid-field2"},a.firstName)))),c.a.createElement(i.S,null,c.a.createElement(i.o,{md:"6"},c.a.createElement(i.A,{id:"fatherName",name:"fatherName",type:"text",label:g("AUTH.FATHER_NAME"),background:!0,containerClass:"mt-3 mb-0",value:t.fatherName,onChange:r,onBlur:s},!!n.fatherName&&!!a.fatherName&&c.a.createElement("div",{className:"text-left invalid-field2"},a.fatherName))),c.a.createElement(i.o,{md:"6"},c.a.createElement(i.A,{id:"lastName",name:"lastName",type:"text",label:g("AUTH.LAST_NAME"),background:!0,containerClass:"mt-3 mb-0",value:t.lastName,onChange:r,onBlur:s},!!n.lastName&&!!a.lastName&&c.a.createElement("div",{className:"text-left invalid-field2"},a.lastName)))),c.a.createElement(i.S,null,c.a.createElement(i.o,{md:"6",className:"mt-2"},c.a.createElement(i.T,{label:g("AUTH.COUNTRY_CODE"),className:"mt-3 mb-0 white",selected:t.countryCode,getValue:function(e){R.a.triggerChangeEvent("countryCode",e[0])}},c.a.createElement(i.U,null),c.a.createElement(i.W,null,c.a.createElement(i.V,{value:M.f.BAHRAIN,checked:t.countryCode===M.f.BAHRAIN},M.f.BAHRAIN," - ",g("COMMON.GCC_COUNTRIES.BAHRAIN")),c.a.createElement(i.V,{value:M.f.KUWAIT,checked:t.countryCode===M.f.KUWAIT},M.f.KUWAIT," - ",g("COMMON.GCC_COUNTRIES.KUWAIT")),c.a.createElement(i.V,{value:M.f.OMAN,checked:t.countryCode===M.f.OMAN},M.f.OMAN," - ",g("COMMON.GCC_COUNTRIES.OMAN")),c.a.createElement(i.V,{value:M.f.QATAR,checked:t.countryCode===M.f.QATAR},M.f.QATAR," - ",g("COMMON.GCC_COUNTRIES.QATAR")),c.a.createElement(i.V,{value:M.f.SAUDI_ARABIA,checked:t.countryCode===M.f.SAUDI_ARABIA},M.f.SAUDI_ARABIA," - ",g("COMMON.GCC_COUNTRIES.SAUDI_ARABIA")),c.a.createElement(i.V,{value:M.f.UAE,checked:t.countryCode===M.f.UAE},M.f.UAE," - ",g("COMMON.GCC_COUNTRIES.UAE")))),!!n.countryCode&&!!a.countryCode&&c.a.createElement("div",{className:"text-left invalid-field2"},a.countryCode)),c.a.createElement(i.o,{md:"6"},c.a.createElement(i.A,{id:"phone",name:"phone",type:"text",label:g("AUTH.PHONE"),background:!0,containerClass:"mt-3 mb-0",value:t.phone,onChange:r,onBlur:s},!!a.phone&&c.a.createElement("div",{className:"text-left invalid-field2"},a.phone))))),c.a.createElement(f.a,{in:G.show,classNames:"mt-3 fade-transition",timeout:M.j.TRANSITION_TIME,unmountOnExit:!0,appear:!0},c.a.createElement(i.b,{color:G.color,onClosed:function(){return j({})}},G.message)),c.a.createElement("div",{className:"text-center mt-4 mb-3 mx-5"},c.a.createElement(i.g,{type:"submit",color:"white",rounded:!0,className:"full-width z-depth-1a blue-grey-text",disabled:!!p||!!V||!!o||!!a&&!!Object.keys(a).length},!o&&c.a.createElement(i.y,{size:"lg",icon:"user-plus"}),!!o&&c.a.createElement("div",{className:"spinner-grow spinner-grow-sm",role:"status"}),!o&&g("AUTH.SIGN_UP"))))}))),c.a.createElement(i.cb,{className:"text-left",position:"ltr"===g("DIRECTION")?"top-right":"top-left",dir:g("DIRECTION"),hideProgressBar:!0,autoClose:M.j.TRANSITION_TIME5,closeButton:!1,transition:C.a}))}},582:function(e,t,a){}}]);