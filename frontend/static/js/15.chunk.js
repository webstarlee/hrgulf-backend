(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{421:function(e,t,a){"use strict";a.d(t,"a",function(){return c});a(1);var n=a(56),r=a(11),c=(Object(n.b)({enter:"zoomIn",exit:"zoomOut",duration:r.j.TRANSITION_TIME}),Object(n.b)({enter:"fadeIn",exit:"fadeOut",duration:r.j.TRANSITION_TIME}));t.b=n.c},447:function(e,t,a){"use strict";var n=a(23),r=a(26),c=a(22);t.a={list:function(e){return new Promise(function(t,a){Object(n.a)(r.d,c.a.hire.workplace.questionnaire.list,e).then(function(e){t(e)},function(e){a(e)})})},save:function(e){return new Promise(function(t,a){Object(n.a)(r.d,c.a.hire.workplace.questionnaire.save,e).then(function(e){t(e)},function(e){a(e)})})},get:function(e){return new Promise(function(t,a){Object(n.a)(r.d,c.a.hire.workplace.questionnaire.get,e).then(function(e){t(e)},function(e){a(e)})})},delete:function(e){return new Promise(function(t,a){Object(n.a)(r.d,c.a.hire.workplace.questionnaire.delete,e).then(function(e){t(e)},function(e){a(e)})})},listQuestions:function(e){return new Promise(function(t,a){Object(n.a)(r.d,c.a.hire.workplace.questionnaire.listQuestions,e).then(function(e){t(e)},function(e){a(e)})})},saveQuestion:function(e){return new Promise(function(t,a){Object(n.a)(r.d,c.a.hire.workplace.questionnaire.saveQuestion,e).then(function(e){t(e)},function(e){a(e)})})},getQuestion:function(e){return new Promise(function(t,a){Object(n.a)(r.d,c.a.hire.workplace.questionnaire.getQuestion,e).then(function(e){t(e)},function(e){a(e)})})},deleteQuestion:function(e){return new Promise(function(t,a){Object(n.a)(r.d,c.a.hire.workplace.questionnaire.deleteQuestion,e).then(function(e){t(e)},function(e){a(e)})})}}},452:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(25),l=a(130);a(128);t.a=function(e){var t=e.message,a=Object(c.b)().t;return r.a.createElement("div",{className:"loading-page"},r.a.createElement(l.a,{heading:a("COMMON.ERROR.SORRY"),message:t||a("COMMON.ERROR.NO_DATA")}))}},456:function(e,t,a){"use strict";var n=a(30),r=a(1),c=a.n(r),l=a(3),i=a(11),o=a(493),s=a(25);t.a=function(e){var t=e.circle,a=e.current,m=e.pageCount,u=e.width,E=e.onChange,d=Object(s.b)().t,O=Object(r.useState)([]),N=Object(n.a)(O,2),f=N[0],b=N[1],g="ltr"===d("DIRECTION")?"left":"right",p="ltr"===d("DIRECTION")?"right":"left";return Object(r.useEffect)(function(e){!u&&(u=o.isMobile?i.q.WIDTH_MOBILE:i.q.WIDTH);var t=Math.ceil(u/2),n=a-t<1?1:a-t,r=a+t-1>m?m:a+t-1;r-n<u&&(1===n&&(r=m<u?m:u),r===m&&(n=m-u+1<1?1:m-u+1));for(var c=[],l=n;l<=r;l++)c.push(l);b(c)},[a,m,u]),c.a.createElement(r.Fragment,null,m>0&&c.a.createElement(l.P,{circle:t},c.a.createElement(l.N,{disabled:1===a,onClick:function(){return E(1)}},c.a.createElement(l.O,{className:"page-link"},c.a.createElement(l.y,{icon:"angle-double-".concat(g)}))),c.a.createElement(l.N,{disabled:1===a,onClick:function(){return E(a-1)}},c.a.createElement(l.O,{className:"page-link"},c.a.createElement(l.y,{icon:"angle-".concat(g)}))),f.map(function(e,t){return c.a.createElement(l.N,{key:e,active:e===a,onClick:function(){return a!==e&&E(e)}},c.a.createElement(l.O,{className:"page-link"},e))}),c.a.createElement(l.N,{disabled:a===m,onClick:function(){return E(a+1)}},c.a.createElement(l.O,{className:"page-link"},c.a.createElement(l.y,{icon:"angle-".concat(p)}))),c.a.createElement(l.N,{disabled:a===m,onClick:function(){return E(m)}},c.a.createElement(l.O,{className:"page-link"},c.a.createElement(l.y,{icon:"angle-double-".concat(p)})))))}},506:function(e,t,a){},507:function(e,t,a){},511:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(3),l=a(29),i=a(25),o=a(427),s=(a(506),function(e){var t=e.data,a=e.page,n=e.detailLabel,s=e.detailLink,m=e.deleteLabel,u=e.onDelete,E=e.questionsLink,d=e.questionsLabel,O=(Object(i.b)().t,t.name),N=t.description,f=o.Base64.encode(JSON.stringify({id:t.id,page:a}));return r.a.createElement(c.o,{md:"6",lg:"4",className:"mb-3 mb-md-4"},r.a.createElement(c.eb,{hover:!0,className:"card"},r.a.createElement(c.i,{className:"letter-item-wrapper"},r.a.createElement("div",{className:"letter-inner-wrapper"},r.a.createElement("div",{className:"border-dark border-bottom mb-sm-1 mb-md-2"},r.a.createElement("span",{className:"h4-responsive"},O)),r.a.createElement("div",{className:"letter-content",dangerouslySetInnerHTML:{__html:N}}))),r.a.createElement(c.B,{className:"flex-center",overlay:"grey-strong"},r.a.createElement(l.b,{to:"".concat(s,"/").concat(f),className:"text-body"},r.a.createElement(c.g,{color:"primary",size:"sm",className:"white-text",rounded:!0},n)),r.a.createElement(c.g,{color:"danger",size:"sm",onClick:function(e){return u({id:t.id,item:t.name})},rounded:!0},m),r.a.createElement(l.b,{to:"".concat(E,"/").concat(f),className:"text-body"},r.a.createElement(c.g,{color:"indigo",size:"sm",className:"white-text",rounded:!0},d)))))}),m=(a(507),function(e){var t=e.to,a=Object(i.b)().t;return r.a.createElement(c.o,{md:"6",lg:"4",className:"mb-3 mb-md-4"},r.a.createElement(l.b,{to:t,className:"text-body"},r.a.createElement(c.eb,{hover:!0,className:"card"},r.a.createElement(c.i,{className:"letter-item-wrapper"},r.a.createElement("div",{className:"letter-inner-wrapper"},r.a.createElement("div",{className:"border-dark border-bottom mb-sm-1 mb-md-2"},r.a.createElement("span",{className:"h4-responsive"},a("COMMON.BUTTON.ADD_NEW_ITEM"))),r.a.createElement("div",{className:"letter-content"},a("HIRE.WORKPLACE.LETTERS.ALL.NEW_ITEM_DESCRIPTION")))),r.a.createElement(c.B,{className:"flex-center",overlay:"grey-strong"},r.a.createElement(c.g,{color:"primary",size:"sm",className:"white-text",rounded:!0},r.a.createElement(c.y,{icon:"plus",size:"sm"}))))))});t.a=function(e){var t=e.items,a=e.page,c=e.showNewLink,l=e.newLink,i=e.detailLabel,o=e.detailLink,u=e.deleteLabel,E=e.onDelete,d=e.questionsLink,O=e.questionsLabel;return r.a.createElement("div",{className:"row text-left mt-3"},!!c&&r.a.createElement(m,{to:l}),t.map(function(e,t){return r.a.createElement(n.Fragment,{key:e.id},r.a.createElement(s,{data:e,page:a,detailLabel:i,detailLink:o,deleteLabel:u,onDelete:E,questionsLink:d,questionsLabel:O}))}))}},720:function(e,t,a){},728:function(e,t,a){"use strict";a.r(t);var n=a(30),r=a(1),c=a.n(r),l=a(24),i=a(43),o=a(29),s=a(3),m=a(25),u=a(73),E=a(425),d=a(418),O=a(11),N=a(5),f=a(123),b=a(452),g=a(456),p=a(421),h=a(447),I=(a(511),a(720),a(427)),T=function(e){var t=e.items,a=Object(m.b)().t;return c.a.createElement("div",{className:"text-left"},c.a.createElement(s.Z,{responsive:!0,striped:!0},c.a.createElement(s.bb,null,c.a.createElement("tr",{className:""},c.a.createElement("th",{className:"nomer-col"},"#"),c.a.createElement("th",null,a("HIRE.WORKPLACE.QUESTIONNAIRE.QUESTIONS.FIELDS.QUESTION")),c.a.createElement("th",{className:"p-2 edit-col-2"}))),c.a.createElement(s.ab,null,!!t.length&&t.map(function(e,t){return c.a.createElement("tr",{key:t,className:""},c.a.createElement("td",null,e.number),c.a.createElement("td",null,e.question),c.a.createElement("td",{className:"edit-col"},e.button))}),!t.length&&c.a.createElement(b.a,null))))};t.default=function(){var e=Object(i.h)().params,t=Object(m.b)().t,a=Object(i.g)(),b=(Object(l.c)(function(e){return e}).auth.user,Object(r.useState)(!1)),R=Object(n.a)(b,2),v=R[0],S=R[1],j=Object(r.useState)({}),w=Object(n.a)(j,2),C=w[0],k=w[1],y=Object(r.useState)({}),M=Object(n.a)(y,2),L=M[0],q=M[1],A=Object(r.useState)({}),Q=Object(n.a)(A,2),x=Q[0],_=Q[1],D=Object(r.useState)(0),B=Object(n.a)(D,2),U=B[0],P=B[1],z=Object(r.useState)([]),W=Object(n.a)(z,2),H=W[0],F=W[1],J=x.page2?parseInt(x.page2):1,K=t("HIRE.WORKPLACE.QUESTIONNAIRE.QUESTIONS.QUESTIONS"),V=I.Base64.encode(JSON.stringify({questionnaireId:x.id,page:x.page,page2:x.page2})),Y="".concat(N.a.hire.workplace.questionnaire.addQuestion,"/").concat(V),Z="".concat(N.a.hire.workplace.questionnaire.all,"/").concat(x.page||1),G=function(e){var t=x.id,a=e.id,n=e.number,l=I.Base64.encode(JSON.stringify({id:a,questionnaireId:t,page:x.page,page2:x.page2}));return c.a.createElement(r.Fragment,null,c.a.createElement(o.b,{to:"".concat(N.a.hire.workplace.questionnaire.addQuestion,"/").concat(l)},c.a.createElement(s.g,{tag:"a",size:"sm",color:"indigo",floating:!0},c.a.createElement(s.y,{icon:"edit"}))),c.a.createElement(s.g,{tag:"a",size:"sm",color:"danger",floating:!0,className:"ml-2",onClick:function(e){return te({id:a,item:"#"+n})}},c.a.createElement(s.y,{icon:"trash"})))},X=function(e){q(Object.assign({},L,{show:!L.show}))},$=function(e){e.id;X(),S(!0),h.a.deleteQuestion({id:L.deleteId,questionnaireId:x.id}).then(function(e){e.result===O.s.SUCCESS?(P(e.pageCount),F(e.data)):p.b.error(e.message),S(!1)}).catch(function(e){p.b.error(t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),S(!1)})},ee=function(e){var t=I.Base64.encode(JSON.stringify({id:x.id,page:x.page,page2:e}));a.push("".concat(N.a.hire.workplace.questionnaire.questions,"/").concat(t))},te=function(e){var a=e.id,n=e.item;q(Object.assign({},L,{show:!0,title:t("COMMON.BUTTON.DELETE"),message:t("COMMON.QUESTION.DELETE",{item:n}),deleteId:a}))};Object(r.useEffect)(function(e){u.animateScroll.scrollToTop({duration:O.j.TRANSITION_TIME})},[]),Object(r.useMemo)(function(t){if(e)try{var a=I.Base64.decode(e),n=JSON.parse(a);_(n)}catch(t){}},[e,t]),Object(r.useMemo)(function(e){x.id&&(S(!0),k({}),h.a.listQuestions({questionnaireId:x.id,page:x.page2}).then(function(e){if(e.result===O.s.SUCCESS){P(e.pageCount);var t=!0,a=!1,n=void 0;try{for(var r,c=e.data[Symbol.iterator]();!(t=(r=c.next()).done);t=!0){var l=r.value;l.button=G(l)}}catch(i){a=!0,n=i}finally{try{t||null==c.return||c.return()}finally{if(a)throw n}}F(e.data)}else p.b.error(e.message);S(!1)}).catch(function(e){p.b.error(t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),S(!1)}))},[x.id,x.page2]),Object(r.useMemo)(function(e){u.animateScroll.scrollToTop({duration:O.j.TRANSITION_TIME})},[x.page]);return c.a.createElement(r.Fragment,null,c.a.createElement(E.Helmet,null,c.a.createElement("title",null,K," - ",t("SITE_NAME"))),c.a.createElement(s.e,null,c.a.createElement(s.f,null,t("NAVBAR.HIRE.WORKPLACE.ROOT")),c.a.createElement(s.f,null,c.a.createElement(o.b,{to:Z},t("NAVBAR.HIRE.WORKPLACE.QUESTIONNAIRE"))),c.a.createElement(s.f,{active:!0},K)),c.a.createElement(s.S,{className:"my-sm-2 my-md-4"},c.a.createElement(s.o,{md:"12",className:"order-1 order-md-0"},c.a.createElement("div",{className:"full-width text-left mt-3"},c.a.createElement(o.b,{to:Y},c.a.createElement(s.g,{color:"primary",size:"sm",rounded:!0,disabled:!!v},t("COMMON.BUTTON.NEW")))))),c.a.createElement(s.S,null,C.show&&c.a.createElement(s.o,{md:"12"},c.a.createElement(d.a,{in:C.show,classNames:"fade-transition",timeout:O.j.TRANSITION_TIME,unmountOnExit:!0,appear:!0},c.a.createElement(s.b,{color:C.color,dismiss:!0,onClosed:function(){return k({})}},C.message))),c.a.createElement(s.o,{md:"12"},!!v&&c.a.createElement(f.a,null),!v&&c.a.createElement(r.Fragment,null,!!H.length&&c.a.createElement("div",{className:"my-4 text-center"},c.a.createElement(g.a,{circle:!0,current:J,pageCount:U,onChange:ee})),c.a.createElement(T,{items:H}),!!H.length&&c.a.createElement("div",{className:"mt-4 text-center"},c.a.createElement(g.a,{circle:!0,current:J,pageCount:U,onChange:ee}))))),c.a.createElement(s.C,{isOpen:!!L.show,toggle:X,centered:!0},c.a.createElement(s.F,{toggle:X},L.title),c.a.createElement(s.D,{className:"text-left"},L.message),c.a.createElement(s.E,null,c.a.createElement(s.g,{type:"button",color:"danger",size:"sm",rounded:!0,onClick:$},t("COMMON.BUTTON.DELETE")),c.a.createElement(s.g,{type:"button",color:"secondary",size:"sm",rounded:!0,onClick:X},t("COMMON.BUTTON.CANCEL")))),c.a.createElement(s.fb,{className:"text-left",position:"ltr"===t("DIRECTION")?"top-right":"top-left",dir:t("DIRECTION"),hideProgressBar:!0,autoClose:O.j.TRANSITION_TIME5,closeButton:!1,transition:p.a}))}}}]);