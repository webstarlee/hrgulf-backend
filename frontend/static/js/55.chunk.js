(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{664:function(e,t,a){"use strict";a.r(t);var n=a(32),s=a(1),l=a.n(s),c=a(26),r=a(37),o=a(34),m=a(3),i=a(425),u=a(72),E=a(430),d=a(434),N=a(433),S=a(123),O=a(90),b=a(5),R=a(11),w=a(134);a(665);t.default=function(e){var t=Object(r.h)(),a=t.email,h=t.token,p=Object(c.b)().t,A=Object(s.useState)(!1),f=Object(n.a)(A,2),T=f[0],g=f[1],I=Object(s.useState)(!0),M=Object(n.a)(I,2),x=M[0],_=M[1],v=Object(s.useState)({}),D=Object(n.a)(v,2),j=D[0],C=D[1],U={password:""},H=N.c().shape({password:N.e().required(p("COMMON.VALIDATION.REQUIRED",{field:p("AUTH.PASSWORD")})).min(R.c.PASSWORD_MIN_LENGTH,p("COMMON.VALIDATION.MIN_LENGTH",{field:p("AUTH.PASSWORD"),length:p("COMMON.CARDINALS.".concat(R.c.PASSWORD_MIN_LENGTH))}))}),k=function(e,t){var n=e.password,s=t.setSubmitting,l={email:a,token:h,password:n};g(!0),s(!0),w.a.resetPassword(l).then(function(e){e.result===R.x.SUCCESS?S.b.success(e.message):S.b.error(e.message),g(!1),s(!1)}).catch(function(e){S.b.error(p("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),g(!1),s(!1)})};Object(s.useEffect)(function(){u.animateScroll.scrollToTop({duration:R.j.TRANSITION_TIME}),g(!0),w.a.validateToken({email:a,token:h}).then(function(e){g(!1),e.result!==R.x.SUCCESS?(_(!0),C({show:!0,color:R.b.DANGER,message:e.message})):_(!1)}).catch(function(e){g(!1),_(!0),C({show:!0,color:R.b.DANGER,message:p("COMMON.ERROR.UNKNOWN_SERVER_ERROR")})})},[e]),Object(s.useMemo)(function(e){},[p]);return l.a.createElement(s.Fragment,null,l.a.createElement(E.Helmet,null,l.a.createElement("title",null,p("AUTH.RESET_PASSWORD")," - ",p("SITE_NAME"))),l.a.createElement("div",{className:"admin-nav text-center"},l.a.createElement("img",{className:"logo-img mt-3 mb-5",src:O.a.logo.logo100})),l.a.createElement(m.h,{className:"auth-bg"},l.a.createElement(m.i,{className:"mx-md-4 mx-sm-1"},l.a.createElement(m.O,{className:"text-center"},l.a.createElement(m.k,{className:"col-12 underlined white-border"},l.a.createElement("p",{className:"text-white h5"},p("AUTH.RESET_PASSWORD")))),l.a.createElement(d.a,{initialValues:U,validationSchema:H,onSubmit:k},function(e){var t=e.values.password,a=e.errors,n=e.touched,s=e.handleChange,c=e.handleSubmit,r=e.handleBlur;return e.isSubmitting,l.a.createElement("form",{onSubmit:c},l.a.createElement("div",{className:"white-text mt-5"},l.a.createElement(m.w,{id:"password",name:"password",type:"password",icon:"lock",label:p("AUTH.PASSWORD"),background:!0,value:t,onChange:s,onBlur:r},!!n.password&&!!a.password&&l.a.createElement("div",{className:"text-left invalid-field2"},a.password))),l.a.createElement(i.a,{in:j.show,classNames:"fade-transition",timeout:R.j.TRANSITION_TIME,unmountOnExit:!0,appear:!0},l.a.createElement(m.b,{color:j.color,onClosed:function(){return C({})}},j.message)),l.a.createElement("div",{className:"text-center mt-4 mb-3 mx-5"},l.a.createElement(m.g,{type:"submit",color:"white",rounded:!0,className:"full-width z-depth-1a blue-grey-text",disabled:T||x},!T&&l.a.createElement(m.u,{icon:"lock"}),!!T&&l.a.createElement("div",{className:"spinner-grow spinner-grow-sm",role:"status"}),p("AUTH.RESET_PASSWORD"))),l.a.createElement("p",{className:"font-small white-text d-flex justify-content-end pb-3"},l.a.createElement(o.b,{className:"ml-1 white-text",to:b.a.auth.signIn},p("AUTH.SIGN_IN"))))}))))}},665:function(e,t,a){}}]);