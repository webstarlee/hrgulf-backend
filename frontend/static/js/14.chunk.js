(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{423:function(e,t,a){"use strict";a.d(t,"a",function(){return r});a(1);var n=a(56),c=a(11),r=(Object(n.b)({enter:"zoomIn",exit:"zoomOut",duration:c.j.TRANSITION_TIME}),Object(n.b)({enter:"fadeIn",exit:"fadeOut",duration:c.j.TRANSITION_TIME}));t.b=n.c},489:function(e,t,a){"use strict";var n=a(23),c=a(26),r=a(22);t.a={list:function(e){return new Promise(function(t,a){Object(n.a)(c.d,r.a.hire.letters.list,e).then(function(e){t(e)},function(e){a(e)})})},save:function(e){return new Promise(function(t,a){Object(n.a)(c.d,r.a.hire.letters.save,e).then(function(e){t(e)},function(e){a(e)})})},get:function(e){return new Promise(function(t,a){Object(n.a)(c.d,r.a.hire.letters.get,e).then(function(e){t(e)},function(e){a(e)})})},delete:function(e){return new Promise(function(t,a){Object(n.a)(c.d,r.a.hire.letters.delete,e).then(function(e){t(e)},function(e){a(e)})})}}},604:function(e,t,a){},605:function(e,t,a){},704:function(e,t,a){"use strict";a.r(t);var n=a(30),c=a(1),r=a.n(c),l=a(24),o=a(43),E=a(29),i=a(3),m=a(25),s=a(73),u=a(425),O=a(418),d=a(11),b=a(5),T=a(127),N=a(176),f=(a(129),function(e){var t=e.message,a=Object(m.b)().t;return r.a.createElement("div",{className:"loading-page"},r.a.createElement(N.a,{heading:a("COMMON.ERROR.SORRY"),message:t||a("COMMON.ERROR.NO_DATA")}))}),R=a(602),g=function(e){var t=e.circle,a=e.current,l=e.pageCount,o=e.width,E=e.onChange,s=Object(m.b)().t,u=Object(c.useState)([]),O=Object(n.a)(u,2),b=O[0],T=O[1],N="ltr"===s("DIRECTION")?"left":"right",f="ltr"===s("DIRECTION")?"right":"left";return Object(c.useEffect)(function(e){!o&&(o=R.isMobile?d.q.WIDTH_MOBILE:d.q.WIDTH);var t=Math.ceil(o/2),n=a-t<1?1:a-t,c=a+t-1>l?l:a+t-1;c-n<o&&(1===n&&(c=l<o?l:o),c===l&&(n=l-o+1<1?1:l-o+1));for(var r=[],E=n;E<=c;E++)r.push(E);T(r)},[a,l,o]),r.a.createElement(c.Fragment,null,l>0&&r.a.createElement(i.P,{circle:t},r.a.createElement(i.N,{disabled:1===a,onClick:function(){return E(1)}},r.a.createElement(i.O,{className:"page-link"},r.a.createElement(i.y,{icon:"angle-double-".concat(N)}))),r.a.createElement(i.N,{disabled:1===a,onClick:function(){return E(a-1)}},r.a.createElement(i.O,{className:"page-link"},r.a.createElement(i.y,{icon:"angle-".concat(N)}))),b.map(function(e,t){return r.a.createElement(i.N,{key:e,active:e===a,onClick:function(){return a!==e&&E(e)}},r.a.createElement(i.O,{className:"page-link"},e))}),r.a.createElement(i.N,{disabled:a===l,onClick:function(){return E(a+1)}},r.a.createElement(i.O,{className:"page-link"},r.a.createElement(i.y,{icon:"angle-".concat(f)}))),r.a.createElement(i.N,{disabled:a===l,onClick:function(){return E(l)}},r.a.createElement(i.O,{className:"page-link"},r.a.createElement(i.y,{icon:"angle-double-".concat(f)})))))},C=a(423),I=a(489),L=a(441),p=(a(604),function(e){var t=e.data,a=e.detailLabel,n=e.detailLink,c=e.deleteLabel,l=e.page,o=e.onDelete,s=(0,Object(m.b)().t)("HIRE.WORKPLACE.LETTERS.TYPE.".concat(t.type)),u=t.name,O=(t.subject,t.message),d=L.Base64.encode(JSON.stringify({id:t.id,page:l}));return r.a.createElement(i.o,{md:"6",lg:"4",className:"mb-3 mb-md-4"},r.a.createElement(i.bb,{hover:!0,className:"card"},r.a.createElement(i.i,{className:"letter-item-wrapper"},r.a.createElement("div",{className:"letter-inner-wrapper"},r.a.createElement("div",{className:"border-dark border-bottom mb-sm-1 mb-md-2"},r.a.createElement("span",{className:"h4-responsive"},u)," - ",s),r.a.createElement("div",{className:"letter-content",dangerouslySetInnerHTML:{__html:O}}))),r.a.createElement(i.B,{className:"flex-center",overlay:"grey-strong"},r.a.createElement(E.b,{to:"".concat(n,"/").concat(d),className:"text-body"},r.a.createElement(i.g,{color:"primary",className:"white-text"},a)),r.a.createElement(i.g,{color:"danger",onClick:function(e){return o({id:t.id,item:t.name})}},c))))}),h=function(e){var t=e.items,a=e.detailLabel,n=e.detailLink,l=e.deleteLabel,o=e.page,E=e.onDelete;return r.a.createElement("div",{className:"row text-left mt-3"},t.map(function(e,t){return r.a.createElement(c.Fragment,{key:e.id},r.a.createElement(p,{data:e,detailLabel:a,detailLink:n,deleteLabel:l,page:o,onDelete:E}))}))},j=(a(605),a(606),function(e){var t=e.onChangeType,a=e.onChangeKeyword,l=Object(m.b)().t,o=Object(c.useState)(!1),E=Object(n.a)(o,2),s=E[0],u=E[1],O=Object(c.useState)(d.t.ALL),b=Object(n.a)(O,2),T=b[0],N=b[1],f=Object(c.useState)(""),R=Object(n.a)(f,2),g=R[0],C=R[1],I=function(e,t){var a=Object(c.useState)(e),r=Object(n.a)(a,2),l=r[0],o=r[1];return Object(c.useEffect)(function(a){var n=setTimeout(function(){o(e)},t);return function(){return clearTimeout(n)}},[e]),l}(g,d.i.DELAY2);Object(c.useEffect)(function(e){var t=setTimeout(function(e){u(!0),clearTimeout(t)},d.i.DELAY2)},[]),Object(c.useMemo)(function(e){"function"===typeof t&&s&&t(T)},[T]),Object(c.useMemo)(function(e){"function"===typeof a&&s&&a(I)},[I]);return r.a.createElement(c.Fragment,null,r.a.createElement(i.S,null,r.a.createElement(i.o,{md:"6"},r.a.createElement(i.T,{label:l("HIRE.WORKPLACE.LETTERS.FIELDS.TYPE"),className:"mt-sm-5 mt-md-3 mb-0",selected:T,getValue:function(e){return N(e[0])}},r.a.createElement(i.U,null),r.a.createElement(i.W,null,r.a.createElement(i.V,{value:d.t.ALL,checked:T===d.t.ALL},l("COMMON.SCOPE.ALL")),r.a.createElement(i.V,{value:d.o.TYPE.GENERIC,checked:T===d.o.TYPE.GENERIC},l("HIRE.WORKPLACE.LETTERS.TYPE.GENERIC")),r.a.createElement(i.V,{value:d.o.TYPE.INTERVIEW,checked:T===d.o.TYPE.INTERVIEW},l("HIRE.WORKPLACE.LETTERS.TYPE.INTERVIEW")),r.a.createElement(i.V,{value:d.o.TYPE.FOLLOWUP,checked:T===d.o.TYPE.FOLLOWUP},l("HIRE.WORKPLACE.LETTERS.TYPE.FOLLOWUP")),r.a.createElement(i.V,{value:d.o.TYPE.ACCEPTANCE,checked:T===d.o.TYPE.ACCEPTANCE},l("HIRE.WORKPLACE.LETTERS.TYPE.ACCEPTANCE")),r.a.createElement(i.V,{value:d.o.TYPE.REJECTION,checked:T===d.o.TYPE.REJECTION},l("HIRE.WORKPLACE.LETTERS.TYPE.REJECTION")),r.a.createElement(i.V,{value:d.o.TYPE.ON_BOARDING,checked:T===d.o.TYPE.ON_BOARDING},l("HIRE.WORKPLACE.LETTERS.TYPE.ON_BOARDING"))))),r.a.createElement(i.o,{md:"6"},r.a.createElement(i.A,{id:"name",name:"name",label:l("COMMON.SEARCH.KEYWORD"),background:!0,containerClass:"mt-2 mb-0",value:g,getValue:C}))))});t.default=function(){var e=Object(o.h)().page,t=Object(m.b)().t,a=Object(o.g)(),N=Object(l.c)(function(e){return e}).auth.user,R=Object(c.useState)(!1),L=Object(n.a)(R,2),p=L[0],S=L[1],P=Object(c.useState)({}),A=Object(n.a)(P,2),v=A[0],M=A[1],k=Object(c.useState)({}),w=Object(n.a)(k,2),y=w[0],D=w[1],Y=Object(c.useState)(0),W=Object(n.a)(Y,2),_=W[0],B=W[1],V=Object(c.useState)([]),H=Object(n.a)(V,2),K=H[0],U=H[1],x=Object(c.useState)(d.t.ALL),F=Object(n.a)(x,2),G=F[0],J=F[1],z=Object(c.useState)(""),q=Object(n.a)(z,2),Q=q[0],X=q[1],Z=e?parseInt(e):1,$=t("NAVBAR.HIRE.WORKPLACE.LETTERS"),ee=function(e){D(Object.assign({},y,{show:!y.show}))},te=function(e){e.id;ee(),S(!0),I.a.delete({id:y.deleteId,userId:N.id}).then(function(e){e.result===d.s.SUCCESS?(B(e.pageCount),U(e.data)):C.b.error(e.message),S(!1)}).catch(function(e){C.b.error(t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),S(!1)})},ae=function(e){a.push("".concat(b.a.hire.workplace.letters.all,"/").concat(e))},ne=function(e){var a=e.id,n=e.item;D(Object.assign({},y,{show:!0,title:t("COMMON.BUTTON.DELETE"),message:t("COMMON.QUESTION.DELETE",{item:n}),deleteId:a}))};Object(c.useEffect)(function(e){s.animateScroll.scrollToTop({duration:d.j.TRANSITION_TIME})},[]),Object(c.useMemo)(function(a){S(!0),M({}),I.a.list({page:e,pageSize:9,userId:N.id,type:G===d.t.ALL?void 0:G,keyword:Q}).then(function(e){e.result===d.s.SUCCESS?(B(e.pageCount),U(e.data)):C.b.error(e.message),S(!1)}).catch(function(e){C.b.error(t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),S(!1)})},[e,t,G,Q]);return r.a.createElement(c.Fragment,null,r.a.createElement(u.Helmet,null,r.a.createElement("title",null,$," - ",t("SITE_NAME"))),r.a.createElement(i.e,null,r.a.createElement(i.f,null,t("NAVBAR.HIRE.WORKPLACE.ROOT")),r.a.createElement(i.f,{active:!0},$)),r.a.createElement(i.S,{className:"my-sm-2 my-md-4"},r.a.createElement(i.o,{md:"5",className:"order-1 order-md-0"},r.a.createElement("div",{className:"full-width text-left mt-3"},r.a.createElement(E.b,{to:b.a.hire.workplace.letters.add},r.a.createElement(i.g,{color:"primary",size:"sm",rounded:!0,disabled:!!p},t("COMMON.BUTTON.NEW"))))),r.a.createElement(i.o,{md:"7",className:"order-0 order-md-1"},r.a.createElement(j,{onChangeType:J,onChangeKeyword:X}))),r.a.createElement(i.S,null,v.show&&r.a.createElement(i.o,{md:"12"},r.a.createElement(O.a,{in:v.show,classNames:"fade-transition",timeout:d.j.TRANSITION_TIME,unmountOnExit:!0,appear:!0},r.a.createElement(i.b,{color:v.color,dismiss:!0,onClosed:function(){return M({})}},v.message))),r.a.createElement(i.o,{md:"12"},!!p&&r.a.createElement(T.a,null),!p&&!K.length&&r.a.createElement(f,null),!p&&!!K.length&&r.a.createElement(c.Fragment,null,r.a.createElement("div",{className:"my-4 text-center"},r.a.createElement(g,{circle:!0,current:Z,pageCount:_,onChange:ae})),r.a.createElement(h,{items:K,detailLabel:t("COMMON.BUTTON.EDIT"),detailLink:b.a.hire.workplace.letters.add,deleteLabel:t("COMMON.BUTTON.DELETE"),page:e,onDelete:ne}),r.a.createElement("div",{className:"mt-4 text-center"},r.a.createElement(g,{circle:!0,current:Z,pageCount:_,onChange:ae}))))),r.a.createElement(i.C,{isOpen:!!y.show,toggle:ee,centered:!0},r.a.createElement(i.F,{toggle:ee},y.title),r.a.createElement(i.D,{className:"text-left"},y.message),r.a.createElement(i.E,null,r.a.createElement(i.g,{type:"button",color:"danger",onClick:te},t("COMMON.BUTTON.DELETE")),r.a.createElement(i.g,{type:"button",color:"secondary",onClick:ee},t("COMMON.BUTTON.CANCEL")))),r.a.createElement(i.cb,{className:"text-left",position:"ltr"===t("DIRECTION")?"top-right":"top-left",dir:t("DIRECTION"),hideProgressBar:!0,autoClose:d.j.TRANSITION_TIME5,closeButton:!1,transition:C.a}))}}}]);